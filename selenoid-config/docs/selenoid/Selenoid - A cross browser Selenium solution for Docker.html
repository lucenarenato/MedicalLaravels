<!DOCTYPE html>
<!-- saved from url=(0065)https://aerokube.com/selenoid/latest/#_starting_selenoid_manually -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="description" content="A Selenium testing platform running browsers and mobile platforms in Docker containers. Fully compatible with Selenium Webdriver protocol. Live and automated testing are supported. Runs on your own hardware and on virtual machines in any popular cloud platform.">
<meta name="author" content="Alexander Andryashin, Ivan Krutov, Kirill Merkushev and the Aerokube community">
<link rel="icon" type="image/png" href="https://aerokube.com/selenoid/latest/img/favicon.png">
<title>Selenoid - A cross browser Selenium solution for Docker</title>
<link rel="stylesheet" href="./Selenoid - A cross browser Selenium solution for Docker_files/css">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="./Selenoid - A cross browser Selenium solution for Docker_files/font-awesome.min.css">
<!--<base href="https://aerokube.com/selenoid/latest/">--><base href=".">
<meta property="og:image:height" content="1106">
<meta property="og:image:width" content="2113">
<meta property="og:title" content="Aerokube Selenoid | A cross browser Selenium solution for Docker">
<meta property="og:description" content="Live and automated cross browser Selenium testing in Docker containers">
<meta property="og:url" content="https://aerokube.com/selenoid/latest">
<meta property="og:image" content="https://aerokube.com/selenoid/latest/img/og-image.jpg">
<meta name="twitter:site" content="@aerokube">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Selenoid</h1>
<div class="details">
<span id="author" class="author">Alexander Andryashin, Ivan Krutov, Kirill Merkushev and the Aerokube community</span><br>
<span id="revnumber">version latest,</span>
<span id="revdate">2020-12-09</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="https://aerokube.com/selenoid/latest/#_getting_started">1. Getting Started</a>
<ul class="sectlevel2">
<li><a href="https://aerokube.com/selenoid/latest/#_quick_start_guide">1.1. Quick Start Guide</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_start_selenoid">1.1.1. Start Selenoid</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_run_your_tests">1.1.2. Run Your Tests</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_starting_selenoid_manually">1.2. Starting Selenoid Manually</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_prepare_configuration">1.2.1. Prepare Configuration</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_browser_images">1.2.2. Browser Images</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_start_selenoid_2">1.2.3. Start Selenoid</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_selenoid_under_windows">1.2.4. Selenoid under Windows</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_frequently_asked_questions">1.3. Frequently Asked Questions</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_selenoid_in_kubernetes">1.3.1. Selenoid in Kubernetes</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_logs_and_dirs">1.3.2. Logs and Dirs</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_limits_and_timeouts">1.3.3. Limits and Timeouts</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_resources_consumption">1.3.4. Resources Consumption</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_features_not_working">1.3.5. Features not Working</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_main_features">2. Main Features</a>
<ul class="sectlevel2">
<li><a href="https://aerokube.com/selenoid/latest/#_video_recording">2.1. Video Recording</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_on_windows">2.1.1. On Windows</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_downloading_video_files_from_selenoid">2.1.2. Downloading Video Files from Selenoid</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_deleting_video_files">2.1.3. Deleting Video Files</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_saving_session_logs">2.2. Saving Session Logs</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_downloading_log_files_from_selenoid">2.2.1. Downloading Log Files from Selenoid</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_deleting_log_files">2.2.2. Deleting Log Files</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_uploading_files_to_browser">2.3. Uploading Files To Browser</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_downloading_files_from_browser">2.4. Downloading Files From Browser</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_downloading_files_in_different_browsers">2.4.1. Downloading Files in Different Browsers</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_accessing_files_downloaded_with_browser">2.4.2. Accessing Files Downloaded with Browser</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_accessing_clipboard">2.5. Accessing Clipboard</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_accessing_browser_developer_tools">2.6. Accessing Browser Developer Tools</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_special_capabilities">2.7. Special Capabilities</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_live_browser_screen_enablevnc">2.7.1. Live Browser Screen: enableVNC</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_custom_screen_resolution_screenresolution">2.7.2. Custom Screen Resolution: screenResolution</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_video_recording_enablevideo_videoname_videoscreensize_videoframerate_videocodec">2.7.3. Video Recording: enableVideo, videoName, videoScreenSize, videoFrameRate, videoCodec</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_saving_session_logs_enablelog_logname">2.7.4. Saving Session Logs: enableLog, logName</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_custom_test_name_name">2.7.5. Custom Test Name: name</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_custom_session_timeout_sessiontimeout">2.7.6. Custom Session Timeout: sessionTimeout</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_per_session_time_zone_timezone">2.7.7. Per-session Time Zone: timeZone</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_per_session_environment_variables_env">2.7.8. Per-session Environment Variables: env</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_links_to_application_containers_applicationcontainers">2.7.9. Links to Application Containers: applicationContainers</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_hosts_entries_hostsentries">2.7.10. Hosts Entries: hostsEntries</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_custom_dns_servers_dnsservers">2.7.11. Custom DNS Servers: dnsServers</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_more_docker_networks_additionalnetworks">2.7.12. More Docker Networks: additionalNetworks</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_container_labels_labels">2.7.13. Container Labels: labels</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_android_skin_skin">2.7.14. Android Skin: skin</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_s3_key_pattern_s3keypattern">2.7.15. S3 Key Pattern: s3KeyPattern</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_specifying_capabilities_via_protocol_extensions">2.7.16. Specifying Capabilities via Protocol Extensions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_advanced_features">3. Advanced Features</a>
<ul class="sectlevel2">
<li><a href="https://aerokube.com/selenoid/latest/#_usage_statistics">3.1. Usage Statistics</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_what_statistics_mean">3.1.1. What Statistics Mean</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_sending_statistics_to_external_systems">3.1.2. Sending Statistics to External Systems</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_uploading_files_to_s3">3.2. Uploading Files To S3</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_saving_session_metadata">3.3. Saving Session Metadata</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_using_selenoid_without_docker">3.4. Using Selenoid without Docker</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_configuration">4. Configuration</a>
<ul class="sectlevel2">
<li><a href="https://aerokube.com/selenoid/latest/#_recommended_docker_settings">4.1. Recommended Docker Settings</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_browsers_configuration_file">4.2. Browsers Configuration File</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_browser_name_and_version">4.2.1. Browser Name and Version</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_image">4.2.2. Image</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_other_optional_fields">4.2.3. Other Optional Fields</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_syncing_browser_images_from_existing_file">4.2.4. Syncing Browser Images from Existing File</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_logging_configuration_file">4.3. Logging Configuration File</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_reloading_configuration">4.4. Reloading Configuration</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_updating_browsers">4.5. Updating Browsers</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_the_short_way">4.5.1. The Short Way</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_a_bit_longer_way">4.5.2. A Bit Longer Way</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_setting_timezone">4.6. Setting Timezone</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_selenoid_with_docker_compose">4.7. Selenoid with Docker Compose</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_option_1_running_selenoid_in_default_docker_network">4.7.1. Option 1. Running Selenoid in default Docker network</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_option_2_running_selenoid_in_custom_docker_network">4.7.2. Option 2. Running Selenoid in custom Docker network</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_log_files">4.8. Log Files</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_selenoid_cli_flags">4.9. Selenoid CLI Flags</a>
<ul class="sectlevel3">
<li><a href="https://aerokube.com/selenoid/latest/#_s3_cli_flags">4.9.1. S3 CLI Flags</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_contributing_development">5. Contributing &amp; Development</a>
<ul class="sectlevel2">
<li><a href="https://aerokube.com/selenoid/latest/#_documentation">5.1. Documentation</a></li>
</ul>
</li>
<li><a href="https://aerokube.com/selenoid/latest/#_browser_image_information">Appendix A: Browser Image information</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_cloud_platforms">Appendix B: Cloud Platforms</a>
<ul class="sectlevel2">
<li><a href="https://aerokube.com/selenoid/latest/#_google_cloud">B.1. Google Cloud</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_digitalocean">B.2. DigitalOcean</a></li>
<li><a href="https://aerokube.com/selenoid/latest/#_yandex_cloud">B.3. Yandex Cloud</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This reference covers version: <em>latest</em></p>
</div>
<div class="paragraph">
<p>Selenoid is a powerful <a href="http://golang.org/">Golang</a> implementation of original <a href="http://github.com/SeleniumHQ/selenium">Selenium</a> hub code.
It is using Docker to launch browsers. Please refer to <a href="https://github.com/aerokube/selenoid">GitHub repository</a> if you need source code.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_getting_started"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_getting_started"></a>1. Getting Started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quick_start_guide"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_quick_start_guide"></a>1.1. Quick Start Guide</h3>
<div class="sect3">
<h4 id="_start_selenoid"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_start_selenoid"></a>1.1.1. Start Selenoid</h4>
<div class="sect4">
<h5 id="_option_1_you_have_a_workstation_virtual_machine_or_server"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_option_1_you_have_a_workstation_virtual_machine_or_server"></a>Option 1: you have a workstation, virtual machine or server</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure you have recent <a href="https://www.docker.com/">Docker</a> version installed.</p>
</li>
<li>
<p>Download <a href="http://aerokube.com/cm/latest/">Configuration Manager</a> (Selenoid quick installation binary) for your platform from <a href="https://github.com/aerokube/cm/releases/latest">releases</a> page.</p>
</li>
<li>
<p>On Linux or Mac give execution permissions to binary:</p>
<div class="literalblock">
<div class="content">
<pre>$ chmod +x cm</pre>
</div>
</div>
</li>
<li>
<p>Run one command to start Selenoid:</p>
<div class="literalblock">
<div class="content">
<pre>$ ./cm selenoid start --vnc</pre>
</div>
</div>
</li>
<li>
<p>Optionally run one more command to start Selenoid UI:</p>
<div class="literalblock">
<div class="content">
<pre>$ ./cm selenoid-ui start</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_option_2_you_have_google_cloud_digitalocean_or_yandex_cloud"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_option_2_you_have_google_cloud_digitalocean_or_yandex_cloud"></a>Option 2: you have Google Cloud, DigitalOcean or Yandex Cloud</h5>
<div class="paragraph">
<p>We deliver ready to use images with Selenoid and Selenoid UI. Take a look at <a href="https://aerokube.com/selenoid/latest/#_cloud_platforms">Cloud Platforms</a> section for more details.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_run_your_tests"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_run_your_tests"></a>1.1.2. Run Your Tests</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run your tests against Selenoid like you do with regular Selenium hub:</p>
<div class="listingblock">
<div class="title">Tests Endpoint</div>
<div class="content">
<pre>http://localhost:4444/wd/hub</pre>
</div>
</div>
<div class="paragraph">
<p>If something does not work, you can easily check that Selenoid is running with opening <strong>status</strong> url:</p>
</div>
<div class="listingblock">
<div class="title">Current Selenoid Status</div>
<div class="content">
<pre>http://localhost:4444/status</pre>
</div>
</div>
<div class="paragraph">
<p>A successful request should return a JSON with browser usage statistics.</p>
</div>
</li>
<li>
<p>To open Selenoid UI navigate to the following page in your browser:</p>
<div class="listingblock">
<div class="title">UI Default URL</div>
<div class="content">
<pre>http://localhost:8080/</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_starting_selenoid_manually"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_starting_selenoid_manually"></a>1.2. Starting Selenoid Manually</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This guide shows how to start Selenoid manually. When in doubt take a look at Configuration Manager first.</p>
</li>
<li>
<p>This guide assumes you already know how to deal with command line and know basic Docker commands.</p>
</li>
</ol>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="_prepare_configuration"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_prepare_configuration"></a>1.2.1. Prepare Configuration</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create <code>config/browsers.json</code> configuration file with content:</p>
<div class="listingblock">
<div class="title">config/browsers.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">"</span><span class="content">firefox</span><span class="delimiter">"</span></span>: {
        <span class="key"><span class="delimiter">"</span><span class="content">default</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">57.0</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">versions</span><span class="delimiter">"</span></span>: {
            <span class="key"><span class="delimiter">"</span><span class="content">57.0</span><span class="delimiter">"</span></span>: {
                <span class="key"><span class="delimiter">"</span><span class="content">image</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">selenoid/vnc:firefox_57.0</span><span class="delimiter">"</span></span>,
                <span class="key"><span class="delimiter">"</span><span class="content">port</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">4444</span><span class="delimiter">"</span></span>,
                <span class="key"><span class="delimiter">"</span><span class="content">path</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">/wd/hub</span><span class="delimiter">"</span></span>
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For Chrome and Opera images "path" is "/" instead of "/wd/hub"
</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p>Pull browser Docker image:</p>
<div class="paragraph">
<p><code>$ docker pull selenoid/vnc:firefox_57.0</code>.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_browser_images"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_browser_images"></a>1.2.2. Browser Images</h4>
<div class="paragraph">
<p>We maintain a set of prebuilt Docker container images for different browsers including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://hub.docker.com/r/selenoid/android/">Android</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/r/selenoid/firefox/">Firefox</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/r/selenoid/chrome/">Google Chrome</a></p>
</li>
<li>
<p><a href="https://hub.docker.com/r/selenoid/opera/">Opera</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All these images are free to use. See image tags for a list of supported versions. Build files are stored in <a href="http://github.com/aerokube/selenoid-images">selenoid-images</a> repository.
Feel free to create issues or request images for new versions.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Complete list of browser images can be found in <a href="https://aerokube.com/selenoid/latest/#_browser_image_information">Browser Image information</a></p>
</li>
<li>
<p>These images support all UTF-8 locales. This can be important if you want to save files using national alphabet symbols. You can enable your preferred locale in browsers configuration file by setting respective environment variables:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>{
    "chrome": {
        "default": "64.0",
        "versions": {
            "64.0": {
                "image": "selenoid/vnc:chrome_64.0",
                //...
                "env" : ["LANG=ru_RU.UTF-8", "LANGUAGE=ru:en", "LC_ALL=ru_RU.UTF-8"]
            }
        }
    }
}</code></pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="_start_selenoid_2"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_start_selenoid_2"></a>1.2.3. Start Selenoid</h4>
<div class="sect4">
<h5 id="_option_1_start_selenoid_binary"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_option_1_start_selenoid_binary"></a>Option 1: start Selenoid binary</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download binary for your operating system from <a href="https://github.com/aerokube/selenoid/releases/latest">releases</a> page
and save it as <code>selenoid</code> (or <code>selenoid.exe</code> on windows).</p>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Add execution permission in case of *nix os-type with <code>chmod +x selenoid</code>.
</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p>Then run:</p>
<div class="listingblock">
<div class="title">*nix</div>
<div class="content">
<pre>./selenoid</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows</div>
<div class="content">
<pre>selenoid.exe</pre>
</div>
</div>
</li>
<li>
<p>It should write to console something like:</p>
<div class="listingblock">
<div class="content">
<pre>2017/11/26 21:23:43 Loading configuration files...
2017/11/26 21:23:43 Loaded configuration from [config/browsers.json]

...

2017/11/26 21:23:43 Listening on :4444</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_option_2_start_selenoid_container"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_option_2_start_selenoid_container"></a>Option 2: start Selenoid container</h5>
<div class="paragraph">
<p>If you have <a href="https://docs.docker.com/engine/installation/">Docker</a> installed you can omit downloading binary and run it inside container.
Prepare config, pull browser image, then run:</p>
</div>
<div class="listingblock">
<div class="title">*nix</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">docker run -d                                   \
--name selenoid                                 \
-p 4444:4444                                    \
-v /var/run/docker.sock:/var/run/docker.sock    \
-v `pwd`/config/:/etc/selenoid/:ro              \
aerokube/selenoid:latest-release</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Windows PowerShell</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">&gt; $current = $PWD -replace "\\", "/" -replace "C", "c"  <i class="conum" data-value="1"></i><b>(1)</b>
&gt; docker run -d                                         `
--name selenoid                                         `
-p 4444:4444                                            `
-v //var/run/docker.sock:/var/run/docker.sock           `
-v ${current}/config/:/etc/selenoid/:ro                 `
aerokube/selenoid:latest-release</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Simple macros to get $PWD with compatible form assumed your directory located on <code>C:</code> drive</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_selenoid_under_windows"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_selenoid_under_windows"></a>1.2.4. Selenoid under Windows</h4>
<div class="paragraph">
<p>While we normally recommend to start Selenoid using <a href="http://aerokube.com/cm/latest">Configuration Manager</a> on any platform,
it is possible to start it under Windows manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Most of the differences are related to Docker, so please refer to Docker documentation on any errors first.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The main difference from Unix operating systems is how volumes are mounted.
In any Windows paths back slashes (<code>\</code>) should be replaced by forward slashes (<code>/</code>) and drive letter should be lower cased.
Also start with forward slash and remove colon.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Mount directory</div>
<div class="content">
<div class="paragraph">
<p><code>C:\Users\admin</code> becomes <code>/c/Users/admin</code></p>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Another story with <code>docker.sock</code>, which should be mounted as <code>-v //var/run/docker.sock:/var/run/docker.sock</code> (note two forward slashes at the beginning)
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>So assuming that configuration file is located at <code>C:\Users\admin\selenoid</code> a typical startup command can look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>docker run -d --name selenoid                   `
-p 4444:4444                                    `
-v //var/run/docker.sock:/var/run/docker.sock   `
-v /c/Users/admin/selenoid:/etc/selenoid:ro                 `
aerokube/selenoid:latest-release</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can use simple Powershell macros to automatically get correct <code>$PWD</code> value (assumed you are on <code>C:</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>&gt; $current = $PWD -replace "\\", "/" -replace "C", "c"</pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_frequently_asked_questions"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_frequently_asked_questions"></a>1.3. Frequently Asked Questions</h3>
<div class="sect3">
<h4 id="_selenoid_in_kubernetes"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_selenoid_in_kubernetes"></a>1.3.1. Selenoid in Kubernetes</h4>
<div class="paragraph">
<p>We are very frequently asked whether it is possible to run Selenoid in <a href="https://kubernetes.io/">Kubernetes</a> cluster. The answer is - <strong>it is possible but we do not recommend doing this</strong>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Selenoid can <strong>only</strong> work directly with <a href="https://docs.docker.com/engine/api/latest/">Docker API</a> and was created to be run on a workstation or a virtual machine with Docker installed.</p>
</li>
<li>
<p>Kubernetes contrarily has a completely different <a href="https://kubernetes.io/docs/concepts/overview/kubernetes-api/">API</a> and <strong>can be using Docker</strong> as a container runtime backend. In some clusters <a href="https://github.com/rkt/rkt">rkt</a> is used instead of Docker and in that case Selenoid will not work.</p>
</li>
<li>
<p>Even if Selenoid works - <strong>all browser containers will be started on the same Kubernetes node</strong> where it is running.</p>
</li>
<li>
<p>So far as Selenoid is using Docker API directly - Kubernetes will not be aware of additional containers started by Selenoid. This is dangerous and <strong>can potentially lead to overloaded Kubernetes nodes</strong>.</p>
</li>
<li>
<p>You can only have <strong>one Selenoid replica maximum</strong>. This is because Selenoid internally stores a list of running sessions in memory.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you need Selenium in Kubernetes or <a href="https://www.openshift.com/">Openshift</a>, we have a separate solution called <a href="https://aerokube.com/moon/">Moon</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_logs_and_dirs"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_logs_and_dirs"></a>1.3.2. Logs and Dirs</h4>
<div class="paragraph">
<p><strong>Where are Selenoid logs?</strong></p>
</div>
<div class="paragraph">
<p>Selenoid outputs its logs to stdout. Selenoid launched as a binary should output logs to the screen. To see Selenoid logs launched as Docker container type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ docker logs selenoid</pre>
</div>
</div>
<div class="paragraph">
<p>To follow the logs add one more flag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ docker logs -f selenoid</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Where are recorded videos stored?</strong></p>
</div>
<div class="paragraph">
<p>Default location when installed with <code>cm</code> is <code>~/.aerokube/selenoid/video</code> or <code>C:\Users\&lt;user&gt;\.aerokube\selenoid\video</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_limits_and_timeouts"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_limits_and_timeouts"></a>1.3.3. Limits and Timeouts</h4>
<div class="paragraph">
<p><strong>How can I limit overall browsers consumption?</strong></p>
</div>
<div class="paragraph">
<p>You have to use <code>-limit</code> flag to specify total number of parallel sessions. Default value is 5. See <a href="https://aerokube.com/selenoid/latest/#_resources_consumption">Resources Consumption</a> section on how to determine total number of parallel sessions.</p>
</div>
<div class="paragraph">
<p><strong>Can I limit per-version browser consumption?</strong></p>
</div>
<div class="paragraph">
<p>No, this is not supported. We consider the only reasonable limitation should be the overall browsers consumption. This is important to not overload the hardware.</p>
</div>
<div class="paragraph">
<p><strong>How can I adjust Selenoid timeouts?</strong></p>
</div>
<div class="paragraph">
<p>The main timeout flag is <code>-timeout</code>, specified as <code>60s</code> or <code>2m</code> or <code>1h</code>. It means maximum amount of time between subsequent HTTP requests to Selenium API. When there are no requests during this time period - session is automatically closed. Selenoid also has more subtle timeouts like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>-service-startup-timeout</code> - container or driver process startup timeout</p>
</li>
<li>
<p><code>-session-attempt-timeout</code> - new session HTTP request timeout, applied when container or driver has started</p>
</li>
<li>
<p><code>-session-delete-timeout</code> - container or process removal timeout, applied after <code>driver.quit()</code> call</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_resources_consumption"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_resources_consumption"></a>1.3.4. Resources Consumption</h4>
<div class="paragraph">
<p><strong>How many resources browser containers consume?</strong></p>
</div>
<div class="paragraph">
<p>This depends on your tests. We recommend to start with 1 CPU and 1 Gb of memory per container as a rough estimate and then increase <code>-limit</code> checking that your tests work stably.</p>
</div>
<div class="paragraph">
<p><strong>Do VNC and non-VNC browser images memory and CPU consumption differ?</strong></p>
</div>
<div class="paragraph">
<p>The only difference between these images - is a running VNC server (<code>x11vnc</code>) consuming approximately 20 Megabytes of RAM in idle state which is negligible compared to browser memory consumption.</p>
</div>
</div>
<div class="sect3">
<h4 id="_features_not_working"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_features_not_working"></a>1.3.5. Features not Working</h4>
<div class="paragraph">
<p><strong>Selenoid does not start: open config/browsers.json: no such file or directory</strong></p>
</div>
<div class="paragraph">
<p>This usually happens when Selenoid is started in Docker container with custom command-line arguments, e.g.:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ docker run &lt;some-args&gt; aerokube/selenoid:some-version -limit 10</pre>
</div>
</div>
<div class="paragraph">
<p>In that case you have to specify path to configuration file explicitly (<code>cm</code> tool does this automatically):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ docker run &lt;some-args&gt; aerokube/selenoid:some-version -limit 10 -conf /etc/selenoid/browsers.json</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Getting error: create container: Error response from daemon: client version 1.36 is too new</strong></p>
</div>
<div class="paragraph">
<p>You have to run Selenoid binary \ container with <code>DOCKER_API_VERSION</code> variable specifying your Docker API version. <code>cm</code> tool does this automatically for you. To determine API version type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ docker version | grep API</pre>
</div>
</div>
<div class="paragraph">
<p>Then run Selenoid like the following:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ DOCKER_API_VERSION=1.32 ./selenoid &lt;rest-of-args&gt; # As a binary
$ docker run -e DOCKER_API_VERSION=1.32 &lt;rest-of-args&gt; aerokube/selenoid:some-version # As Docker container</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Video feature not working</strong></p>
</div>
<div class="paragraph">
<p>When running Selenoid as Docker container video feature can be not working (because of misconfiguration). If your video files are named like <code>selenoid607667f7e1c7923779e35506b040300d.mp4</code> and you are seeing the following log message…​</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>2018/03/20 21:06:37 [9] [VIDEO_ERROR] [Failed to rename /video/selenoid607667f7e1c7923779e35506b040300d.mp4 to /video/8019c4bc-9bec-4a8b-aa40-68d1db0cffd2.mp4: rename /video/selenoid607667f7e1c7923779e35506b040300d.mp4 /video/8019c4bc-9bec-4a8b-aa40-68d1db0cffd2.mp4: no such file or directory]</code></pre>
</div>
</div>
<div class="paragraph">
<p>... then check that:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You are passing an <code>OVERRIDE_VIDEO_OUTPUT_DIR</code> environment variable pointing to a directory on the <code>host machine</code> where video files are actually stored</p>
</li>
<li>
<p>When passing custom arguments to Selenoid container (such as <code>-limit</code> or <code>-timeout</code>) you also have to pass <code>-video-output-dir /opt/selenoid/video</code> and mount host machine video dir to <code>/opt/selenoid/video</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Can’t get VNC feature to work: Disconnected</strong></p>
</div>
<div class="paragraph">
<p>Please check the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You have <code>enableVNC = true</code> capability in your tests</p>
</li>
<li>
<p>You are using browser images with <code>vnc</code> in their name, e.g. <code>selenoid/vnc:firefox:58.0</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Seeing black screen with a cross in VNC window</strong></p>
</div>
<div class="paragraph">
<p>You are using <code>driver.close()</code> instead of <code>driver.quit()</code> and just closed the last browser tab instead of removing the session.</p>
</div>
<div class="paragraph">
<p><strong>Can Selenoid pull browser images automatically?</strong></p>
</div>
<div class="paragraph">
<p>No, we did not implement this feature intentionally. We consider that all such cluster maintenance tasks can influence performance and stability when done automatically.</p>
</div>
<div class="paragraph">
<p><strong>Is it possible to run Selenoid in Docker macvlan network?</strong></p>
</div>
<div class="paragraph">
<p>Yes, this is possible. See the following <a href="https://github.com/aerokube/selenoid/issues/795">Github issue</a> for possible solutions.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_main_features"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_main_features"></a>2. Main Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_video_recording"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_video_recording"></a>2.1. Video Recording</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This feature only works when browsers are run in containers.</p>
</li>
<li>
<p>Video can be recorded with both vnc or non-vnc browser images.</p>
</li>
<li>
<p>An additional <code>enableVideo</code> capability should be added to tests. See <a href="https://aerokube.com/selenoid/latest/#_special_capabilities">Special Capabilities</a> section for more details.</p>
</li>
</ol>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Selenoid can capture browser screen and save it to <a href="https://en.wikipedia.org/wiki/MPEG-4">MPEG-4</a> video file using <a href="https://en.wikipedia.org/wiki/H.264/MPEG-4_AVC">H264</a> codec.
Video recording works by attaching a separate container with <a href="https://www.ffmpeg.org/">video capturing software</a> to running browser container.</p>
</div>
<div class="paragraph">
<p>To use this feature you should:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Pull video recorder image once:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ docker pull selenoid/video-recorder:latest-release</code></pre>
</div>
</div>
</li>
<li>
<p>When running Selenoid <strong>in Docker container</strong>:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Mount a directory from the host machine (e.g. <code>~/.aerokube/selenoid/video</code>) to store video files to <code>/opt/selenoid/video</code>.</p>
</li>
<li>
<p>Pass an additional <code>OVERRIDE_VIDEO_OUTPUT_DIR</code> environment variable with absolute path to video directory on host machine. This is required because video recorder container, automatically created by Selenoid should save video to host machine video storage directory.</p>
</li>
</ol>
</div>
</li>
<li>
<p>When running Selenoid <strong>as a binary</strong> - videos will be stored in <code>video</code> directory inside current working directory.</p>
<div class="listingblock">
<div class="title">Example Docker Command</div>
<div class="content">
<pre>$ docker run -d                                 \
--name selenoid                                 \
-p 4444:4444                                    \
-v /var/run/docker.sock:/var/run/docker.sock    \
-v `pwd`/config/:/etc/selenoid/:ro              \
-v `pwd`/video/:/opt/selenoid/video/            \
-e OVERRIDE_VIDEO_OUTPUT_DIR=`pwd`/video/       \
aerokube/selenoid:latest-release</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
All these actions are automatically done when starting Selenoid via <a href="http://aerokube.com/cm/latest/">Configuration Manager</a> <code>selenoid start</code> command.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="_on_windows"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_on_windows"></a>2.1.1. On Windows</h4>
<div class="paragraph">
<p>With absolute path your command will look like:</p>
</div>
<div class="listingblock">
<div class="title">Windows PowerShell</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">&gt; docker volume create selenoid-videos
&gt; $current = $PWD -replace "\\", "/" -replace "C", "c"    <i class="conum" data-value="1"></i><b>(1)</b>
&gt; docker run -d                                         `
--name selenoid                                         `
-p 4444:4444                                            `
-v //var/run/docker.sock:/var/run/docker.sock           `
-v ${current}/config/:/etc/selenoid/:ro                 `
-v /c/selenoid/video/:/opt/selenoid/video/              ` <i class="conum" data-value="2"></i><b>(2)</b>
-e OVERRIDE_VIDEO_OUTPUT_DIR=/c/selenoid/video/         ` <i class="conum" data-value="3"></i><b>(3)</b>
aerokube/selenoid:latest-release</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Simple macros to get $PWD with compatible form assumed your directory located on <code>C:</code> drive</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Should be absolute path in compatible form</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Should be same as in (2)</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="_downloading_video_files_from_selenoid"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_downloading_video_files_from_selenoid"></a>2.1.2. Downloading Video Files from Selenoid</h4>
<div class="paragraph">
<p>You can access recorded video files using the following URL:</p>
</div>
<div class="listingblock">
<div class="title">Direct Link to File</div>
<div class="content">
<pre>http://selenoid-host.example.com:4444/video/&lt;filename&gt;.mp4</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Direct link will work only after session has finished because Selenoid renames temporary filename to <code>&lt;session-id&gt;.mp4</code> (by default) at the session close.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To see all available files use:</p>
</div>
<div class="listingblock">
<div class="title">Listing All Video Files</div>
<div class="content">
<pre>http://selenoid-host.example.com:4444/video/</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_deleting_video_files"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_deleting_video_files"></a>2.1.3. Deleting Video Files</h4>
<div class="paragraph">
<p>Selenoid intentionally has no built-in logic to automatically remove old video files. To limit storage space consumption you have two alternatives:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Schedule scripts automatically removing files older than desired date and time. An example command under Unix operating systems can look like:</p>
<div class="listingblock">
<div class="title">Shell Command to Remove Old Video Files</div>
<div class="content">
<pre>$ find /path/to/video/dir -mindepth 1 -maxdepth 1 -mmin +120 -name '*.mp4' | xargs rm -rf</pre>
</div>
</div>
<div class="paragraph">
<p>Notice <code>-mmin +120</code> argument meaning to only process files older than 2 hours (120 minutes).</p>
</div>
</li>
<li>
<p>Send video removal requests (e.g. from passed test cases). Just use <code>DELETE</code> HTTP method and Selenoid video URL:</p>
<div class="listingblock">
<div class="title">Deleting Video File via HTTP API</div>
<div class="content">
<pre>$ curl -X DELETE http://selenoid-host.example.com:4444/video/&lt;filename&gt;.mp4</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_saving_session_logs"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_saving_session_logs"></a>2.2. Saving Session Logs</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>An additional <code>enableLog</code> capability should be added to tests. See <a href="https://aerokube.com/selenoid/latest/#_special_capabilities">Special Capabilities</a> section for more details.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Selenoid can save log files for every running session to a separate file. By default log files are saved as <code>&lt;session-id&gt;.log</code> but you can alter file name via <code>logName</code> capability.</p>
</div>
<div class="paragraph">
<p>To enable this feature you only need to add <code>-log-output-dir &lt;/path/to/some/dir&gt;</code> flag to Selenoid:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./selenoid -log-output-dir /path/to/some/dir</pre>
</div>
</div>
<div class="paragraph">
<p>When running Selenoid <strong>in Docker container</strong> - don’t forget to mount logs directory from the host machine:</p>
</div>
<div class="listingblock">
<div class="title">Example Docker Command</div>
<div class="content">
<pre>$ docker run -d
--name selenoid                                 \
-p 4444:4444                                    \
-v /var/run/docker.sock:/var/run/docker.sock    \
-v `pwd`/config/:/etc/selenoid/:ro              \
-v `pwd`/logs/:/opt/selenoid/logs/              \
aerokube/selenoid:latest-release -log-output-dir /opt/selenoid/logs</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This feature is automatically enabled when starting Selenoid via <a href="http://aerokube.com/cm/latest/">Configuration Manager</a> <code>selenoid start</code> command.
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="_downloading_log_files_from_selenoid"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_downloading_log_files_from_selenoid"></a>2.2.1. Downloading Log Files from Selenoid</h4>
<div class="paragraph">
<p>You can access saved log files using the following URL:</p>
</div>
<div class="listingblock">
<div class="title">Direct Link to Log File</div>
<div class="content">
<pre>http://selenoid-host.example.com:4444/logs/&lt;filename&gt;.log</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Direct link will work only after session has finished because Selenoid renames temporary filename to <code>&lt;session-id&gt;.log</code> (by default) at the session close.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To see all available files use:</p>
</div>
<div class="listingblock">
<div class="title">Listing All Log Files</div>
<div class="content">
<pre>http://selenoid-host.example.com:4444/logs/</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_deleting_log_files"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_deleting_log_files"></a>2.2.2. Deleting Log Files</h4>
<div class="paragraph">
<p>Similarly to video files it’s up to you when to delete old log files. Either remove log files from the directory using a scheduled job or send log removal requests:</p>
</div>
<div class="listingblock">
<div class="title">Deleting Log File via HTTP API</div>
<div class="content">
<pre>$ curl -X DELETE http://selenoid-host.example.com:4444/logs/&lt;filename&gt;.log</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_uploading_files_to_browser"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_uploading_files_to_browser"></a>2.3. Uploading Files To Browser</h3>
<div class="paragraph">
<p>Some tests require to upload files. This feature works out of the box in the majority of Selenium clients. A typical Java code snippet look like the following:</p>
</div>
<div class="listingblock">
<div class="title">Uploading files with Java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Find file input element</span>
WebElement input = driver.findElement(By.cssSelector(<span class="string"><span class="delimiter">"</span><span class="content">input[type='file']</span><span class="delimiter">"</span></span>));

<span class="comment">// Make sure element is visible</span>
((JavascriptExecutor) driver).executeScript(<span class="string"><span class="delimiter">"</span><span class="content">arguments[0].style.display = 'block';</span><span class="delimiter">"</span></span>, input);

<span class="comment">// Configure your client to upload local files to remote Selenium instance</span>
driver.setFileDetector(<span class="keyword">new</span> LocalFileDetector());

<span class="comment">// Specify you local file path here (not path inside browser container!)</span>
input.sendKeys(<span class="string"><span class="delimiter">"</span><span class="content">/path/to/file/on/machine/which/runs/tests</span><span class="delimiter">"</span></span>);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Uploading files with Python</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="python"><span class="keyword">from</span> <span class="include">selenium.webdriver.remote.file_detector</span> <span class="keyword">import</span> <span class="include">LocalFileDetector</span>

<span class="comment"># ...</span>

input = driver.find_element_by_css_selector(<span class="string"><span class="delimiter">"</span><span class="content">input[type='file']</span><span class="delimiter">"</span></span>)
driver.execute_script(<span class="string"><span class="delimiter">"</span><span class="content">arguments[0].style.display = 'block';</span><span class="delimiter">"</span></span>, <span class="predefined">input</span>)
driver.file_detector = LocalFileDetector()
<span class="predefined">input</span>.send_keys(<span class="string"><span class="delimiter">"</span><span class="content">/path/to/file/on/machine/which/runs/tests</span><span class="delimiter">"</span></span>)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Uploading files with Webdriver.io</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="keyword">var</span> filePath = path.join(<span class="string"><span class="delimiter">'</span><span class="content">/path/to/file/on/machine/which/runs/tests</span><span class="delimiter">'</span></span>);
<span class="keyword">var</span> remoteFilePath = browser.uploadFile(filePath);
<span class="predefined">$</span>(<span class="string"><span class="delimiter">"</span><span class="content">input[type='file']</span><span class="delimiter">"</span></span>).setValue(remoteFilePath);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Read the following note if you are using Selenoid <strong>without Docker</strong>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This feature is supported in WebDriver protocol by sending zipped file contents to <code>/file</code> handle. However not all driver binaries support this feature. For example this is not implemented in <a href="http://github.com/mozilla/geckodriver">Geckodriver</a> or <a href="https://github.com/SeleniumHQ/selenium/tree/master/cpp/iedriver">IEDriver</a>. When proxying requests <strong>directly</strong> to these drivers (i.e. when <strong>not using Docker</strong>) you need to start Selenoid with <code>-enable-file-upload</code> flag. In that case Selenoid will provide required API to tests. Firefox container images already include this parameter where needed.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_downloading_files_from_browser"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_downloading_files_from_browser"></a>2.4. Downloading Files From Browser</h3>
<div class="sect3">
<h4 id="_downloading_files_in_different_browsers"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_downloading_files_in_different_browsers"></a>2.4.1. Downloading Files in Different Browsers</h4>
<div class="sect4">
<h5 id="_chrome"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_chrome"></a>Chrome</h5>
<div class="listingblock">
<div class="title">Downloading files with Java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ChromeOptions chromeOptions = <span class="keyword">new</span> ChromeOptions();
chromeOptions.setExperimentalOption(<span class="string"><span class="delimiter">"</span><span class="content">prefs</span><span class="delimiter">"</span></span>, <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;(){
    {
        put(<span class="string"><span class="delimiter">"</span><span class="content">profile.default_content_settings.popups</span><span class="delimiter">"</span></span>, <span class="integer">0</span>);
        put(<span class="string"><span class="delimiter">"</span><span class="content">download.default_directory</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">/home/selenium/Downloads</span><span class="delimiter">"</span></span>);
        put(<span class="string"><span class="delimiter">"</span><span class="content">download.prompt_for_download</span><span class="delimiter">"</span></span>, <span class="predefined-constant">false</span>);
        put(<span class="string"><span class="delimiter">"</span><span class="content">download.directory_upgrade</span><span class="delimiter">"</span></span>, <span class="predefined-constant">true</span>);
        put(<span class="string"><span class="delimiter">"</span><span class="content">safebrowsing.enabled</span><span class="delimiter">"</span></span>, <span class="predefined-constant">false</span>);
        put(<span class="string"><span class="delimiter">"</span><span class="content">plugins.always_open_pdf_externally</span><span class="delimiter">"</span></span>, <span class="predefined-constant">true</span>);
        put(<span class="string"><span class="delimiter">"</span><span class="content">plugins.plugins_disabled</span><span class="delimiter">"</span></span>, <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;<span class="predefined-type">String</span>&gt;(){
            {
                add(<span class="string"><span class="delimiter">"</span><span class="content">Chrome PDF Viewer</span><span class="delimiter">"</span></span>);
            }
        });
    }
});

WebDriver driver = <span class="keyword">new</span> RemoteWebDriver(<span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">"</span><span class="content">http://localhost:4444/wd/hub</span><span class="delimiter">"</span></span>), chromeOptions);
driver.navigate().to(<span class="string"><span class="delimiter">"</span><span class="content">http://example.com/myfile.odt</span><span class="delimiter">"</span></span>);</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_firefox"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_firefox"></a>Firefox</h5>
<div class="listingblock">
<div class="title">Downloading files with Java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">FirefoxOptions firefoxOptions = <span class="keyword">new</span> FirefoxOptions();
firefoxOptions.setCapability(<span class="string"><span class="delimiter">"</span><span class="content">moz:firefoxOptions</span><span class="delimiter">"</span></span>, <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;(){
    {
        put(<span class="string"><span class="delimiter">"</span><span class="content">prefs</span><span class="delimiter">"</span></span>, <span class="keyword">new</span> <span class="predefined-type">HashMap</span>&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Object</span>&gt;(){
            {
                put(<span class="string"><span class="delimiter">"</span><span class="content">browser.helperApps.neverAsk.saveToDisk</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">application/octet-stream</span><span class="delimiter">"</span></span>);
            }
        });
    }
});


WebDriver driver = <span class="keyword">new</span> RemoteWebDriver(<span class="keyword">new</span> <span class="predefined-type">URL</span>(<span class="string"><span class="delimiter">"</span><span class="content">http://localhost:4444/wd/hub</span><span class="delimiter">"</span></span>), firefoxOptions);
driver.navigate().to(<span class="string"><span class="delimiter">"</span><span class="content">http://example.com/myfile.odt</span><span class="delimiter">"</span></span>);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_accessing_files_downloaded_with_browser"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_accessing_files_downloaded_with_browser"></a>2.4.2. Accessing Files Downloaded with Browser</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>This feature only works when browsers are being run in containers.</p>
</li>
<li>
<p>Files are accessible only when browser session is running.</p>
</li>
</ol>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Your tests may need to download files with browsers. To analyze these files a common requirement is then to somehow extract downloaded files from browser containers. A possible solution can be dealing with container volumes. But Selenoid provides a <code>/download</code> API and dramatically simplifies downloading files. Having a running session <code>f2bcd32b-d932-4cdc-a639-687ab8e4f840</code> you can access all downloaded files using an URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>http://selenoid-host.example.com:4444/download/f2bcd32b-d932-4cdc-a639-687ab8e4f840/myfile.txt</code></pre>
</div>
</div>
<div class="paragraph">
<p>In order for this feature to work an HTTP file server should be listening inside browser container on port <code>8080</code>. Download directory inside container to be used in tests is usually <code>~/Downloads</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_accessing_clipboard"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_accessing_clipboard"></a>2.5. Accessing Clipboard</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Clipboard is accessible only when browser session is running.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Sometimes you may need to interact with the clipboard to check that your application copy-paste feature works. Selenoid has a dedicated API to interact with the clipboard. To use it:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start a new session, for example with ID <code>f2bcd32b-d932-4cdc-a639-687ab8e4f840</code>.</p>
</li>
<li>
<p>To get clipboard value send the following HTTP request:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ curl http://selenoid-host.example.com:4444/clipboard/f2bcd32b-d932-4cdc-a639-687ab8e4f840

some-clipboard-value</code></pre>
</div>
</div>
</li>
<li>
<p>To update clipboard value:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ curl -X POST --data 'some-clipboard-value' http://selenoid-host.example.com:4444/clipboard/f2bcd32b-d932-4cdc-a639-687ab8e4f840</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_accessing_browser_developer_tools"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_accessing_browser_developer_tools"></a>2.6. Accessing Browser Developer Tools</h3>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Currently only <a href="https://chromedevtools.github.io/devtools-protocol/">Chrome Developer Tools</a> are supported.</p>
</li>
<li>
<p>This feature will work only for Chrome 63+.</p>
</li>
<li>
<p>We recommend to use the most recent Chrome version possible.</p>
</li>
</ol>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Selenoid is proxying Chrome Developer Tools API to browser container.  For every running Selenium session to access the API just use the following URL:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>&lt;ws or http&gt;://selenoid.example.com:4444/devtools/&lt;session-id&gt;/&lt;method&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here <code>&lt;method&gt;</code> is one of the following:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Supported Developer Tools Methods</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meaning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/browser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebSocket</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developer Tools browser websocket</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebSocket</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An alias for /browser</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/page</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebSocket</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developer Tools current page (target) websocket - mainly useful when only one browser tab is open</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/page/&lt;target-id&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebSocket</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developer Tools specified page (target) websocket - allows to connect to concrete browser tab</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">/json/protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of supported Developer Tools protocol methods in JSON format (some client libraries are using it)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example an URL to connect to current page websocket would be:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>ws://selenoid.example.com:4444/devtools/&lt;session-id&gt;/page</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Accessing Developer Tools API with Webdriver.io and Puppeteer</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const { remote } = require(<span class="string"><span class="delimiter">'</span><span class="content">webdriverio</span><span class="delimiter">'</span></span>);
const puppeteer = require(<span class="string"><span class="delimiter">'</span><span class="content">puppeteer-core</span><span class="delimiter">'</span></span>);
const host = <span class="string"><span class="delimiter">'</span><span class="content">selenoid.example.com</span><span class="delimiter">'</span></span>;
(async () =&gt; {
    const browser = await remote({
        <span class="key">hostname</span>: host,
        <span class="key">capabilities</span>: {
            <span class="key">browserName</span>: <span class="string"><span class="delimiter">'</span><span class="content">chrome</span><span class="delimiter">'</span></span>,
            <span class="key">browserVersion</span>: <span class="string"><span class="delimiter">'</span><span class="content">75.0</span><span class="delimiter">'</span></span>
        }
    });

    const devtools = await puppeteer.connect(
        { <span class="key">browserWSEndpoint</span>: <span class="error">`</span>ws:<span class="comment">//${host}:4444/devtools/${browser.sessionId}` }</span>
    );
    const page = await devtools.newPage();
    await page.<span class="reserved">goto</span>(<span class="string"><span class="delimiter">'</span><span class="content">http://aerokube.com</span><span class="delimiter">'</span></span>);
    await page.screenshot({<span class="key">path</span>: <span class="string"><span class="delimiter">'</span><span class="content">screenshot.png</span><span class="delimiter">'</span></span>});
    const title = await page.title();

    console.log(title);

    await devtools.close();
    await browser.deleteSession();

})().<span class="keyword">catch</span>((e) =&gt; console.error(e));</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_special_capabilities"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_special_capabilities"></a>2.7. Special Capabilities</h3>
<div class="paragraph">
<p>Selenoid can improve some automation aspects with custom capabilities.
You can pass it in tests to enable/disable some features.</p>
</div>
<div class="sect3">
<h4 id="_live_browser_screen_enablevnc"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_live_browser_screen_enablevnc"></a>2.7.1. Live Browser Screen: enableVNC</h4>
<div class="paragraph">
<p>Selenoid supports showing browser screen during test execution.
This works with containers having <a href="https://en.wikipedia.org/wiki/Virtual_Network_Computing">VNC</a> server installed (VNC column of <a href="https://aerokube.com/selenoid/latest/#_browser_image_information">Browser Image information</a>).
To see browser screen:</p>
</div>
<div class="listingblock">
<div class="title">Type: boolean</div>
<div class="content">
<pre>enableVNC: true</pre>
</div>
</div>
<div class="paragraph">
<p>Then launch <a href="http://aerokube.com/selenoid-ui/latest/">Selenoid UI</a> to see the screen.</p>
</div>
<div class="paragraph">
<p>This works by proxying VNC port from started container to <code><a href="http://localhost:4444/vnc/%3Csession-id%3E" class="bare">http://localhost:4444/vnc/&lt;session-id&gt;</a>;</code> to WebSocket, where <code>&lt;session-id&gt;</code> is Selenium session ID.</p>
</div>
</div>
<div class="sect3">
<h4 id="_custom_screen_resolution_screenresolution"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_custom_screen_resolution_screenresolution"></a>2.7.2. Custom Screen Resolution: screenResolution</h4>
<div class="paragraph">
<p>Selenoid allows you to set custom screen resolution in containers being run:</p>
</div>
<div class="listingblock">
<div class="title">Type: string, format: &lt;width&gt;x&lt;height&gt;x&lt;colors-depth&gt;</div>
<div class="content">
<pre>screenResolution: "1280x1024x24"</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="ulist">
<ul>
<li>
<p>This capability sets only screen resolution - not browser window size.
Most of browsers have some default window size value this is why your screenshot size can be smaller than screen resolution specified in capability.
You should manually resize window to desired width and height.</p>
</li>
<li>
<p>So far as our containers run headless browsers in Xvfb without installed window manager <code>maximize</code> operation does not work.
You need to use <code>setSize</code> method instead.</p>
</li>
</ul>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="_video_recording_enablevideo_videoname_videoscreensize_videoframerate_videocodec"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_video_recording_enablevideo_videoname_videoscreensize_videoframerate_videocodec"></a>2.7.3. Video Recording: enableVideo, videoName, videoScreenSize, videoFrameRate, videoCodec</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This feature requires some preparation. Please refer to <a href="https://aerokube.com/selenoid/latest/#_video_recording">Video Recording</a> section for more details.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To enable video recording for session, add:</p>
</div>
<div class="listingblock">
<div class="title">Type: boolean</div>
<div class="content">
<pre>enableVideo: true</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>By default saved video files are named <code>&lt;session-id&gt;.mp4</code> where <code>&lt;session-id&gt;</code> is a unique identifier of Selenium session.
To provide custom video name specify:</p>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>videoName: "my-cool-video.mp4"</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It is important to add <code>mp4</code> file extension.
</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p>By default the entire screen picture is being recorded.
Specifying <code>screenResolution</code> capability changes recorded video size (width and height) accordingly.
You can override video screen size by passing a capability. In case of <code>videoScreenSize</code>
resolution is less than actual, screen on video will be trimmed starting from top-left corner:</p>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>videoScreenSize: "1024x768"</pre>
</div>
</div>
</li>
<li>
<p>Default video frame rate is <code>12</code> frames per second. Specifying <code>videoFrameRate</code> capability changes this value:</p>
<div class="listingblock">
<div class="title">Type: int</div>
<div class="content">
<pre>videoFrameRate: 24</pre>
</div>
</div>
</li>
<li>
<p>By default Selenoid is using <code>libx264</code> codec for video output. If this codec is consuming too much CPU, you can change it using <code>videoCodec</code> capability:</p>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>videoCodec: "mpeg4"</pre>
</div>
</div>
<div class="paragraph">
<p>To obtain the full list of <a href="https://stackoverflow.com/questions/3377300/what-are-all-codecs-and-formats-supported-by-ffmpeg">supported values</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ docker run -it --rm --entrypoint /usr/bin/ffmpeg selenoid/video-recorder -codecs</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_saving_session_logs_enablelog_logname"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_saving_session_logs_enablelog_logname"></a>2.7.4. Saving Session Logs: enableLog, logName</h4>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This feature requires some preparation. Please refer to <a href="https://aerokube.com/selenoid/latest/#_saving_session_logs">Saving Session Logs</a> section for more details.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To enable saving logs for a session, add:</p>
</div>
<div class="listingblock">
<div class="title">Type: boolean</div>
<div class="content">
<pre>enableLog: true</pre>
</div>
</div>
<div class="paragraph">
<p>If you wish to automatically save logs for all sessions, you can enable this behavior globally with Selenoid <code>-save-all-logs</code> flag.</p>
</div>
<div class="paragraph">
<p>By default saved log files are named <code>&lt;session-id&gt;.log</code> where <code>&lt;session-id&gt;</code> is a unique identifier of Selenium session.
To provide custom log file name specify:</p>
</div>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>logName: "my-cool-log.log"</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It is important to add <code>log</code> file extension.
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect3">
<h4 id="_custom_test_name_name"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_custom_test_name_name"></a>2.7.5. Custom Test Name: name</h4>
<div class="paragraph">
<p>For debugging purposes it is often useful to give a distinct name to every test case.
When working with Selenoid you can set test case name by passing the following capability:</p>
</div>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>name: "myCoolTestName"</pre>
</div>
</div>
<div class="paragraph">
<p>The main application of this capability - is debugging tests in the UI which is showing specified name for every running session.</p>
</div>
</div>
<div class="sect3">
<h4 id="_custom_session_timeout_sessiontimeout"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_custom_session_timeout_sessiontimeout"></a>2.7.6. Custom Session Timeout: sessionTimeout</h4>
<div class="paragraph">
<p>Sometimes you may want to change idle timeout for selected browser session. To achieve this - pass the following capability:</p>
</div>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>sessionTimeout: 30m</pre>
</div>
</div>
<div class="paragraph">
<p>Timeout is specified Golang duration format e.g. <code>30m</code> or <code>10s</code> or <code>1h5m</code> and can be no more than the value set by <code>-max-timeout</code> flag.</p>
</div>
</div>
<div class="sect3">
<h4 id="_per_session_time_zone_timezone"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_per_session_time_zone_timezone"></a>2.7.7. Per-session Time Zone: timeZone</h4>
<div class="paragraph">
<p>Some tests require particular time zone to be set in operating system.
To achieve this with Selenoid use:</p>
</div>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>timeZone: "Europe/Moscow"</pre>
</div>
</div>
<div class="paragraph">
<p>You can find most of available time zones <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">here</a>.
Without this capability launched browser containers will have the same timezone as Selenoid one.</p>
</div>
</div>
<div class="sect3">
<h4 id="_per_session_environment_variables_env"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_per_session_environment_variables_env"></a>2.7.8. Per-session Environment Variables: env</h4>
<div class="paragraph">
<p>Sometimes you may want to set some environment variables for every test case (for example to test with different default locales). To achieve this pass one more capability:</p>
</div>
<div class="listingblock">
<div class="title">Type: array, format: &lt;key&gt;=&lt;value&gt;</div>
<div class="content">
<pre>env: ["LANG=ru_RU.UTF-8", "LANGUAGE=ru:en", "LC_ALL=ru_RU.UTF-8"]</pre>
</div>
</div>
<div class="paragraph">
<p>Environment variables from this capability are appended to variables from configuration file.</p>
</div>
</div>
<div class="sect3">
<h4 id="_links_to_application_containers_applicationcontainers"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_links_to_application_containers_applicationcontainers"></a>2.7.9. Links to Application Containers: applicationContainers</h4>
<div class="paragraph">
<p>Sometimes you may need to link browser container to application container running on the same host machine.
This allows you to use cool URLs like <code><a href="http://my-cool-app/" class="bare">http://my-cool-app/</a></code> in tests.
To achieve this simply pass information about one or more desired links via capability:</p>
</div>
<div class="listingblock">
<div class="title">Type: array, format: &lt;container-name&gt;[:alias]</div>
<div class="content">
<pre>applicationContainers: ["spring-application-main:my-cool-app", "spring-application-gateway"]</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_hosts_entries_hostsentries"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_hosts_entries_hostsentries"></a>2.7.10. Hosts Entries: hostsEntries</h4>
<div class="paragraph">
<p>Although you can configure a separate list of <code>/etc/hosts</code> entries for every browser image in <a href="https://aerokube.com/selenoid/latest/#_browsers_configuration_file">Browsers Configuration File</a>
sometimes you may need to add more entries for particular test cases. This can be easily achieved with:</p>
</div>
<div class="listingblock">
<div class="title">Type: array, format: &lt;hostname&gt;:&lt;ip-address&gt;</div>
<div class="content">
<pre>hostsEntries: ["example.com:192.168.0.1", "test.com:192.168.0.2"]</pre>
</div>
</div>
<div class="paragraph">
<p>Entries will be inserted to <code>/etc/hosts</code> before entries from browsers configuration file.
Thus entries from capabilities override entries from configuration file if some hosts are equal.</p>
</div>
</div>
<div class="sect3">
<h4 id="_custom_dns_servers_dnsservers"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_custom_dns_servers_dnsservers"></a>2.7.11. Custom DNS Servers: dnsServers</h4>
<div class="paragraph">
<p>By default Selenoid browser containers are using global DNS settings of Docker daemon. Sometimes you may need to override used DNS servers list for particular test cases. This can be easily achieved with:</p>
</div>
<div class="listingblock">
<div class="title">Type: array, format: &lt;dns-ip-address&gt;</div>
<div class="content">
<pre>dnsServers: ["192.168.0.1", "192.168.0.2"]</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_more_docker_networks_additionalnetworks"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_more_docker_networks_additionalnetworks"></a>2.7.12. More Docker Networks: additionalNetworks</h4>
<div class="paragraph">
<p>By default Selenoid browser containers are started in Docker network specified by <code>-container-network</code> flag. If you tested application is running in another network you may need to connect browser container to this network:</p>
</div>
<div class="listingblock">
<div class="title">Type: array, format: &lt;network-name&gt;</div>
<div class="content">
<pre>additionalNetworks: ["my-custom-net-1", "my-custom-net-2"]</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_container_labels_labels"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_container_labels_labels"></a>2.7.13. Container Labels: labels</h4>
<div class="paragraph">
<p>In big clusters you may want to pass additional metadata to every browser session: environment, VCS revision, build number and so on. These labels can be then used to enrich session logs and send them to a centralized log storage. Later this metadata can be used for more efficient search through logs.</p>
</div>
<div class="listingblock">
<div class="title">Type: map, format: "&lt;key&gt;": "&lt;value&gt;"</div>
<div class="content">
<pre>labels: {"environment": "testing", "build-number": "14353"}</pre>
</div>
</div>
<div class="paragraph">
<p>Labels from this capability override labels from browsers configuration file. When <code>name</code> capability is specified - it is automatically added as a label to container.</p>
</div>
</div>
<div class="sect3">
<h4 id="_android_skin_skin"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_android_skin_skin"></a>2.7.14. Android Skin: skin</h4>
<div class="paragraph">
<p>For <a href="https://aerokube.com/selenoid/latest/#Android">[Android]</a> containers you can select emulator skin with capabilities. List of available skins:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Available Android Skins</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Skin</th>
<th class="tableblock halign-left valign-top">Screen Resolution</th>
<th class="tableblock halign-left valign-top">DPI</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">QVGA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">240x320</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">120</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WQVGA400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">240x400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">120</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WQVGA432</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">240x432</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">120</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HVGA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">320x480</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">160</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WVGA800</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">480x800</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">240</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WVGA854</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">480x854</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">240</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WSVGA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1024x600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">160</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WXGA720</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">720x1280</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">320</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WXGA800</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1280x800</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">160</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WXGA800-7in</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">800x1280</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">213</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To select a skin - set <code>skin</code> capability:</p>
</div>
<div class="listingblock">
<div class="title">Type: string, format: &lt;desired-skin&gt;</div>
<div class="content">
<pre>skin: "WXGA720"</pre>
</div>
</div>
<div class="paragraph">
<p>You can also pass desired screen resolution as follows:</p>
</div>
<div class="listingblock">
<div class="title">Type: string, format: &lt;desired-screen-resolution&gt;</div>
<div class="content">
<pre>skin: "720x1280"</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_s3_key_pattern_s3keypattern"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_s3_key_pattern_s3keypattern"></a>2.7.15. S3 Key Pattern: s3KeyPattern</h4>
<div class="paragraph">
<p>This capability allows to override S3 key pattern (specified by <code>-s3-key-pattern</code> flag) used when uploading files to S3.</p>
</div>
<div class="listingblock">
<div class="title">Type: string</div>
<div class="content">
<pre>s3KeyPattern: "$quota/$fileType$fileExtension"</pre>
</div>
</div>
<div class="paragraph">
<p>The same key placeholders are supported. Please refer to <a href="https://aerokube.com/selenoid/latest/#_uploading_files_to_s3">Uploading Files To S3</a> section for more details.</p>
</div>
</div>
<div class="sect3">
<h4 id="_specifying_capabilities_via_protocol_extensions"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_specifying_capabilities_via_protocol_extensions"></a>2.7.16. Specifying Capabilities via Protocol Extensions</h4>
<div class="paragraph">
<p>Some Selenium clients allow passing only a limited number of capabilities specified in <a href="https://w3c.github.io/webdriver/webdriver-spec.html">WebDriver specification</a>. For such cases Selenoid supports reading capabilities using <a href="https://w3c.github.io/webdriver/webdriver-spec.html#protocol-extensions">WebDriver protocol extensions</a> feature. The following two examples deliver the same result. Usually capabilities are passed like this:</p>
</div>
<div class="listingblock">
<div class="title">Passing Capabilities as Usually</div>
<div class="content">
<pre>{"browserName": "firefox", "version": "57.0", "screenResolution": "1280x1024x24"}</pre>
</div>
</div>
<div class="paragraph">
<p>Selenoid is using <code>selenoid:options</code> key to read protocol extension capabilities:</p>
</div>
<div class="listingblock">
<div class="title">Passing Capabilities using Protocol Extensions</div>
<div class="content">
<pre>{"browserName": "firefox", "version": "57.0", "selenoid:options": {"screenResolution": "1280x1024x24"}}</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_advanced_features"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_advanced_features"></a>3. Advanced Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_usage_statistics"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_usage_statistics"></a>3.1. Usage Statistics</h3>
<div class="paragraph">
<p>Selenoid calculates usage statistics that can be accessed with HTTP request:</p>
</div>
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl http://localhost:4444/status</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">"</span><span class="content">total</span><span class="delimiter">"</span></span>: <span class="integer">80</span>,
    <span class="key"><span class="delimiter">"</span><span class="content">used</span><span class="delimiter">"</span></span>: <span class="integer">10</span>,
    <span class="key"><span class="delimiter">"</span><span class="content">queued</span><span class="delimiter">"</span></span>: <span class="integer">0</span>,
    <span class="key"><span class="delimiter">"</span><span class="content">pending</span><span class="delimiter">"</span></span>: <span class="integer">1</span>,
    <span class="key"><span class="delimiter">"</span><span class="content">browsers</span><span class="delimiter">"</span></span>: {
      <span class="key"><span class="delimiter">"</span><span class="content">firefox</span><span class="delimiter">"</span></span>: {
        <span class="key"><span class="delimiter">"</span><span class="content">46.0</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">user1</span><span class="delimiter">"</span></span>: {
            <span class="key"><span class="delimiter">"</span><span class="content">count</span><span class="delimiter">"</span></span>:<span class="integer">1</span>,
            <span class="key"><span class="delimiter">"</span><span class="content">sessions</span><span class="delimiter">"</span></span>:[
                {
                    <span class="key"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">a7a2b801-21db-4dae-a99b-4cbc0b81de96</span><span class="delimiter">"</span></span>,
                    <span class="key"><span class="delimiter">"</span><span class="content">vnc</span><span class="delimiter">"</span></span>: <span class="predefined-constant">false</span>,
                    <span class="key"><span class="delimiter">"</span><span class="content">screen</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">1920x1080x24</span><span class="delimiter">"</span></span>
                 }
            ]
          },
          <span class="key"><span class="delimiter">"</span><span class="content">user2</span><span class="delimiter">"</span></span>: {
            <span class="key"><span class="delimiter">"</span><span class="content">count</span><span class="delimiter">"</span></span>:<span class="integer">6</span>,
            <span class="key"><span class="delimiter">"</span><span class="content">sessions</span><span class="delimiter">"</span></span>:[
                <span class="comment">//...</span>
            ]
          },
        },
        <span class="key"><span class="delimiter">"</span><span class="content">48.0</span><span class="delimiter">"</span></span>: {
          <span class="key"><span class="delimiter">"</span><span class="content">user2</span><span class="delimiter">"</span></span>: {
            <span class="key"><span class="delimiter">"</span><span class="content">count</span><span class="delimiter">"</span></span>:<span class="integer">3</span>,
            <span class="key"><span class="delimiter">"</span><span class="content">sessions</span><span class="delimiter">"</span></span>:[
                <span class="comment">//...</span>
            ]
          }
        }
      }
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Users are extracted from basic HTTP authentication headers.</p>
</div>
<div class="sect3">
<h4 id="_what_statistics_mean"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_what_statistics_mean"></a>3.1.1. What Statistics Mean</h4>
<div class="paragraph">
<p>A typical session lifecycle looks like the following:</p>
</div>
<div class="paragraph">
<div class="title">Typical Session Lifecycle</div>
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/lifecycle.png" alt="lifecycle"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A new session request arrives to Selenoid.</p>
</li>
<li>
<p>Selenoid <code>-limit</code> flag specifies how many sessions can be created simultaneously. It is shown as <code>total</code> in statistics. When requests reach the limit - subsequent requests are placed in queue. <code>Queued</code> requests just block and continue to wait.</p>
</li>
<li>
<p>When there is a free slot for request Selenoid decides whether a Docker container or standalone driver process should be created. All requests during startup are marked as <code>pending</code>. Before proceeding to next step Selenoid waits for required port to be open. This is done by sending HEAD requests to the port.</p>
</li>
<li>
<p>When a container or driver is started (ping is successful) Selenoid does a new session request just in the same way as standard Selenium client.</p>
</li>
<li>
<p>Depending on what is returned as response on the previous step session is marked as <code>created</code> or <code>failed</code>. Created and running sessions are also included to <code>used</code> value.</p>
</li>
<li>
<p>When a session is created Selenoid just proxies the rest of session requests to the same container or driver.</p>
</li>
<li>
<p>New session request can fail because of Selenium errors or issues with container \ driver startup. In that case an error is returned to user.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_sending_statistics_to_external_systems"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_sending_statistics_to_external_systems"></a>3.1.2. Sending Statistics to External Systems</h4>
<div class="paragraph">
<p>To send Selenoid statistics described in previous section you can use <a href="https://github.com/influxdata/telegraf">Telegraf</a>. For example to send status to <a href="https://github.com/graphite-project">Graphite</a>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Pull latest Telegraf Docker container:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code># docker pull telegraf:alpine</code></pre>
</div>
</div>
</li>
<li>
<p>Generate configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># mkdir -p /etc/telegraf
# docker run --rm telegraf:alpine   \
    --input-filter httpjson         \
    --output-filter graphite config &gt; /etc/telegraf/telegraf.conf</code></pre>
</div>
</div>
</li>
<li>
<p>Edit file like the following:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="go">[agent]
interval = <span class="string"><span class="delimiter">"</span><span class="content">10s</span><span class="delimiter">"</span></span> <i class="conum" data-value="1"></i><b>(1)</b>

[[outputs.graphite]]
servers = [<span class="string"><span class="delimiter">"</span><span class="content">my-graphite-host.example.com:2024</span><span class="delimiter">"</span></span>] <i class="conum" data-value="2"></i><b>(2)</b>
prefix = <span class="string"><span class="delimiter">"</span><span class="content">one_min</span><span class="delimiter">"</span></span> <i class="conum" data-value="3"></i><b>(3)</b>
template = <span class="string"><span class="delimiter">"</span><span class="content">host.measurement.field</span><span class="delimiter">"</span></span>

[[inputs.httpjson]]
name = <span class="string"><span class="delimiter">"</span><span class="content">selenoid</span><span class="delimiter">"</span></span>
servers = [
<span class="string"><span class="delimiter">"</span><span class="content">http://localhost:4444/status</span><span class="delimiter">"</span></span> <i class="conum" data-value="4"></i><b>(4)</b>
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>adjust interval if needed</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>adjust host and port</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>something before hostname, can be blank</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>this is localhost only if Telegraf is run on Selenoid host</td>
</tr>
</tbody></table>
</div>
</li>
<li>
<p>Start Telegraf container:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># docker run --net host -d  \
    --name telegraf         \
    -v /etc/telegraf:/etc   \
    telegraf:alpine --config /etc/telegraf.conf</code></pre>
</div>
</div>
<div class="paragraph">
<p>Metrics will be sent to <em>my-graphite-host.example.com:2024</em>. Metric names will be like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>one_min.selenoid_example_com.httpjson_selenoid.pending
one_min.selenoid_example_com.httpjson_selenoid.queued
one_min.selenoid_example_com.httpjson_selenoid.total</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>telegraf+influxdb+graphana</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_uploading_files_to_s3"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_uploading_files_to_s3"></a>3.2. Uploading Files To S3</h3>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This feature only becomes available when Selenoid is compiled with <code>s3</code> build tag (missing by default) as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ go build -tags s3</pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Selenoid can upload recorded video and log files for every running session to S3-compatible storage.</p>
</div>
<div class="paragraph">
<p>To enable this feature you need to specify S3 access information as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./selenoid -s3-endpoint https://s3.us-east-2.amazonaws.com -s3-region us-east-2 -s3-bucket-name my-bucket -s3-access-key &lt;your-access-key&gt; -s3-secret-key &lt;your-secret-key&gt;</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you omit <code>-s3-access-key</code> and <code>-s3-secret-key</code> flags then environment variables and shared credentials file are automatically tried as a fallback.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>By default uploaded file name is preserved, i.e. S3 path is <code>/&lt;session-id&gt;.log</code> or <code>/myCustomVideo.mp4</code>. You can optionally provide your custom key pattern using <code>-s3-key-pattern</code> flag and a set of placeholders:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. S3 Key Placeholders</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Placeholder</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$browserName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by Selenium browser name capability value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$browserVersion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by Selenium browser version capability value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$date</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by current date, e.g. <code>2018-11-01</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$fileName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by source file name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$fileExtension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by source file extension</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$fileType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by <code>log</code> for log files and <code>video</code> for video files</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$platformName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by Selenium platform capability value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$quota</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by quota name (usually coming from Ggr)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">$sessionId</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaced by Selenium session ID</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, when launching Selenoid with <code>-s3-key-pattern $browserName/$sessionId/log.txt</code> files will be accessible as <code>firefox/0ee0b48b-e29b-6749-b4f1-2277b8f8d6c5/log.txt</code>. You can also override key pattern for every session with <code>s3KeyPattern</code> capability.</p>
</div>
<div class="paragraph">
<p>Sometimes you may want to upload only video files or files matching some complicated pattern or to not upload some files. To achieve this use <code>-s3-include-files</code> and <code>-s3-exclude-files</code> flags. These flags accept <a href="https://en.wikipedia.org/wiki/Glob_(programming)">globs</a> such as <code>*.mp4</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_saving_session_metadata"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_saving_session_metadata"></a>3.3. Saving Session Metadata</h3>
<div class="admonitionblock important">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
This feature only becomes available when Selenoid is compiled with <code>metadata</code> build tag (missing by default).
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Selenoid can save session metadata to a separate JSON file. Main use case is to somehow post-process session logs, e.g. send them to map-reduce cluster. No additional configuration is needed to enable this feature. When enabled and <code>-log-output-dir</code> flag is set - Selenoid will automatically save JSON files <code>&lt;log-output-dir&gt;/&lt;session-id&gt;.json</code> with the following content:</p>
</div>
<div class="listingblock">
<div class="title">Example metadata JSON file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">"</span><span class="content">id</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">62a4d82d-edf6-43d5-886f-895b77ff23b7</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">capabilities</span><span class="delimiter">"</span></span>: {
        <span class="key"><span class="delimiter">"</span><span class="content">browserName</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">chrome</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">version</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">70.0</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">name</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">MyCoolTest</span><span class="delimiter">"</span></span>,
        <span class="key"><span class="delimiter">"</span><span class="content">screenResolution</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">1920x1080x24</span><span class="delimiter">"</span></span>
    },
    <span class="key"><span class="delimiter">"</span><span class="content">started</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">2018-11-15T16:23:12.440916+03:00</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">finished</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">2018-11-15T16:23:12.480928+03:00</span><span class="delimiter">"</span></span>
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_selenoid_without_docker"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_using_selenoid_without_docker"></a>3.4. Using Selenoid without Docker</h3>
<div class="paragraph">
<p>Selenoid is using containers to start browsers. However cases exist when running browser in container is not possible. For example on Windows you have Internet Explorer which can not be run inside container. Selenoid can be used as a lightweight Selenium server replacement to run IE, Firefox or Chrome on Windows. For example to use Selenoid with IE:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download latest <a href="http://www.seleniumhq.org/download/">IEDriverServer</a> archive and unpack it to some directory (<code><code>C:\</code></code> in this example).</p>
</li>
<li>
<p>Download latest <a href="https://github.com/aerokube/selenoid/releases/latest">Selenoid</a> binary.</p>
</li>
<li>
<p>Create <code><code>browsers.json</code></code> configuration file:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
  <span class="key"><span class="delimiter">"</span><span class="content">internet explorer</span><span class="delimiter">"</span></span>: {
    <span class="key"><span class="delimiter">"</span><span class="content">default</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">11</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">versions</span><span class="delimiter">"</span></span>: {
      <span class="key"><span class="delimiter">"</span><span class="content">11</span><span class="delimiter">"</span></span>: {
        <span class="key"><span class="delimiter">"</span><span class="content">image</span><span class="delimiter">"</span></span>: [<span class="string"><span class="delimiter">"</span><span class="content">C:</span><span class="char">\\</span><span class="content">IEDriverServer.exe</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">--log-level=DEBUG</span><span class="delimiter">"</span></span>]
      }
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that backslashes in Windows paths should be escaped as <code><code>\\</code></code>.
In this example we define a browser with name <code><code>internet explorer</code></code>  and version <code><code>11</code></code>.</p>
</div>
</li>
<li>
<p>Start Selenoid:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>./selenoid_win_amd64.exe -conf ./browsers.json -disable-docker</code></pre>
</div>
</div>
</li>
<li>
<p>Run your tests against ...</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>http://localhost:4444/wd/hub</code></pre>
</div>
</div>
<div class="paragraph">
<p>... with the following capabilities:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>browserName = internet explorer
version = 11</code></pre>
</div>
</div>
</li>
<li>
<p>To start <a href="https://www.google.com/chrome/">Chrome</a> instead just download <a href="https://sites.google.com/a/chromium.org/chromedriver/">Chromedriver</a> binary and modify <code><code>browsers.json</code></code> accordingly.</p>
</li>
<li>
<p>By default Selenoid does not process launched driver logs. Launch Selenoid with <code>-capture-driver-logs</code> flag to append driver logs for every session to main log.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_configuration"></a>4. Configuration</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_recommended_docker_settings"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_recommended_docker_settings"></a>4.1. Recommended Docker Settings</h3>
<div class="ulist">
<ul>
<li>
<p>We recommend to use latest Docker release and Linux core 4.x and above. Older kernels and Docker releases have known bugs.</p>
</li>
<li>
<p>Use modern <a href="https://en.wikipedia.org/wiki/OverlayFS">OverlayFS</a> Docker storage driver. <a href="https://en.wikipedia.org/wiki/Aufs">AUFS</a> is also fast but has some bugs that can lead to orphaned containers. Never use <a href="https://en.wikipedia.org/wiki/Device_mapper">Device Mapper</a> - it is very slow. See <a href="https://docs.docker.com/engine/userguide/storagedriver/selectadriver/">this</a> page on how to adjust Docker storage driver. To check your currently used driver type:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code># docker info | grep Storage</code></pre>
</div>
</div>
</li>
<li>
<p>Total number of simultaneously running containers (adjusted via <code><code>-limit</code></code> flag) depends on your host machine hardware. Our experience shows that depending on your tests the recommended limit is something like: <code><code>1.5-2.0 x numCores</code></code>, where <code><code>numCores</code></code> is total number of cores on your host machine.</p>
</li>
<li>
<p>In some Docker installations you can see random Selenium commands failing because of the timeout. This is mainly caused by low bridged networking (aka <code>docker0</code>) performance. To avoid this we recommend to set <code>docker0</code> network Mac-address to the same value as <code>eth0</code> has:</p>
<div class="literalblock">
<div class="content">
<pre># ifconfig | grep eth0
eth0      Link encap:Ethernet  HWaddr 00:25:90:eb:fb:3e</pre>
</div>
</div>
<div class="paragraph">
<p>Now we are setting this Mac-adress for <code>docker0</code> virtual interface:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># ip link set docker0 address 00:25:90:eb:fb:3e</pre>
</div>
</div>
<div class="paragraph">
<p>To make these settings permanent we need to adding the following line to <code>docker0</code> section in <code>/etc/network/interfaces</code>:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>iface docker0 inet static
        # ... the rest of lines
        post-up ip link set docker0 address 00:25:90:eb:fb:3e</pre>
</div>
</div>
</li>
<li>
<p>You may also want to limit memory and CPU consumption for each started container. To do this use <code><code>-mem</code></code> and <code><code>-cpu</code></code> flags. For example to limit memory type:</p>
<div class="literalblock">
<div class="content">
<pre># ./selenoid -mem 128m</pre>
</div>
</div>
<div class="paragraph">
<p>Here values are specified in <a href="https://docs.docker.com/engine/admin/resource_constraints/">Docker format</a>. Similarly to limit CPU comsumption specify total number of CPUs per container as a float:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># ./selenoid -cpu 1.5</pre>
</div>
</div>
</li>
<li>
<p>We use the same client as <code>docker</code> command does. This is why all environment variables like <code>DOCKER_API_VERSION</code> or <code>DOCKER_CERT_PATH</code> are applicable. See full list of supported variables in <a href="https://docs.docker.com/engine/reference/commandline/cli/#environment-variables">Docker documentation</a>. For example you may encounter the following error when running Selenoid:</p>
<div class="literalblock">
<div class="content">
<pre>[SERVICE_STARTUP_FAILED] [unknown] [create container: Error response from daemon: client is newer than server (client API version: 1.30, server API version: 1.24)]</pre>
</div>
</div>
<div class="paragraph">
<p>This is because your Docker server version is older than Selenoid client version. To fix this you need to switch Selenoid to use supported API version - <code>1.24</code>. This can be done by setting <code>DOCKER_API_VERSION</code> environment variable:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># docker run -e DOCKER_API_VERSION=1.24 -d --name selenoid -p 4444:4444 -v /etc/selenoid:/etc/selenoid:ro -v /var/run/docker.sock:/var/run/docker.sock aerokube/selenoid:latest-release</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_browsers_configuration_file"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_browsers_configuration_file"></a>4.2. Browsers Configuration File</h3>
<div class="paragraph">
<p>Selenoid requires a simple JSON configuration file of the following format:</p>
</div>
<div class="listingblock">
<div class="title">browsers.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">"</span><span class="content">firefox</span><span class="delimiter">"</span></span>: {                                     <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="key"><span class="delimiter">"</span><span class="content">default</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">46.0</span><span class="delimiter">"</span></span>,                             <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="key"><span class="delimiter">"</span><span class="content">versions</span><span class="delimiter">"</span></span>: {                                  <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="key"><span class="delimiter">"</span><span class="content">46.0</span><span class="delimiter">"</span></span>: {                                    <i class="conum" data-value="4"></i><b>(4)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">image</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">selenoid/firefox:46.0</span><span class="delimiter">"</span></span>,          <i class="conum" data-value="5"></i><b>(5)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">port</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">4444</span><span class="delimiter">"</span></span>,                            <i class="conum" data-value="6"></i><b>(6)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">tmpfs</span><span class="delimiter">"</span></span>: {<span class="key"><span class="delimiter">"</span><span class="content">/tmp</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">size=512m</span><span class="delimiter">"</span></span>},            <i class="conum" data-value="7"></i><b>(7)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">path</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">/wd/hub</span><span class="delimiter">"</span></span>,                        <i class="conum" data-value="8"></i><b>(8)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">volumes</span><span class="delimiter">"</span></span> : [<span class="string"><span class="delimiter">"</span><span class="content">/from:/to:ro</span><span class="delimiter">"</span></span>],              <i class="conum" data-value="9"></i><b>(9)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">env</span><span class="delimiter">"</span></span> : [<span class="string"><span class="delimiter">"</span><span class="content">TZ=Europe/Moscow</span><span class="delimiter">"</span></span>],              <i class="conum" data-value="10"></i><b>(10)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">hosts</span><span class="delimiter">"</span></span> : [<span class="string"><span class="delimiter">"</span><span class="content">example.com:192.168.0.1</span><span class="delimiter">"</span></span>],     <i class="conum" data-value="11"></i><b>(11)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">shmSize</span><span class="delimiter">"</span></span> : <span class="integer">268435456</span>,                     <i class="conum" data-value="12"></i><b>(12)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">cpu</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">1.0</span><span class="delimiter">"</span></span>,                             <i class="conum" data-value="13"></i><b>(13)</b>
          <span class="key"><span class="delimiter">"</span><span class="content">mem</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">512m</span><span class="delimiter">"</span></span>,                            <i class="conum" data-value="14"></i><b>(14)</b>
        },
        <span class="key"><span class="delimiter">"</span><span class="content">50.0</span><span class="delimiter">"</span></span> :{
            <span class="comment">// ...</span>
        }
      }
    },
    <span class="key"><span class="delimiter">"</span><span class="content">chrome</span><span class="delimiter">"</span></span>: {
        <span class="comment">// ...</span>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Browser name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Default browser version</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>A list of available browser versions</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Version name</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Image name or driver binary command</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><em>Containers only.</em> Port to proxy connections to, see below</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><em>Optional. Containers only.</em> Add in-memory filesystem (<em>tmpfs</em>) to container, see below</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><em>Optional.</em> Path relative to / where we request a new session, see below</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><em>Optional. Containers only.</em> Mount path from host machine to created container</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><em>Optional.</em> Environment variables to be passed to browser container or driver process</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td><em>Optional.</em> Custom <code>/etc/hosts</code> entries to be passed to browser container in <code>hostname:ip</code> format.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td><em>Optional.</em> Shared memory size in bytes to be set for container. Some browsers (e.g. Chrome) may work unstable when having insufficient <code>shmSize</code>. Default value is 256 megabytes.</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td><em>Optional. Containers only.</em> Container CPU limit in Docker units.</td>
</tr>
<tr>
<td><i class="conum" data-value="14"></i><b>14</b></td>
<td><em>Optional. Containers only.</em> Container memory limit in Docker units.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>This file represents a mapping between a list of supported browser versions and Docker container images or driver binaries.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To use custom browsers configuration file - use <code>-conf</code> flag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./selenoid -conf /path/to/browsers.json</pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect3">
<h4 id="_browser_name_and_version"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_browser_name_and_version"></a>4.2.1. Browser Name and Version</h4>
<div class="paragraph">
<p>Browser name and version are just strings that are matched against Selenium desired capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>browserName</code></p>
</li>
<li>
<p><code>version</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If no version capability is present default version is used. When there is no exact version match we also try to match by prefix.
That means version string in JSON should start with version string from capabilities.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Matching Logic</div>
<div class="content">
<div class="listingblock">
<div class="title">in browsers.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">versions</span><span class="delimiter">"</span></span>: {
   <span class="key"><span class="delimiter">"</span><span class="content">46.0</span><span class="delimiter">"</span></span>: {</code></pre>
</div>
</div>
<div class="paragraph">
<p>Version capability that will match:</p>
</div>
<div class="paragraph">
<p><code>version = 46</code> (<strong>46.0</strong> starts with <strong>46</strong>)</p>
</div>
<div class="paragraph">
<p>Will not match:</p>
</div>
<div class="paragraph">
<p><code>version = 46.1</code> (<strong>46.0</strong> does not start with <strong>46.1</strong>)</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_image"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_image"></a>4.2.2. Image</h4>
<div class="paragraph">
<p>Image by default is a string with container specification in Docker format (<code>hub.example.com/project/image:tag</code>).</p>
</div>
<div class="paragraph">
<p>Image must be already pulled. <a href="https://github.com/aerokube/cm">Configuration Manager</a> can help with this task.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Valid images</div>
<div class="content">
<div class="paragraph">
<p>Pulled from internal docker registry:</p>
</div>
<div class="paragraph">
<p><code>my-internal-docker-hub.example.com/selenoid/firefox:46.0</code></p>
</div>
<div class="paragraph">
<p>Pulled from hub.docker.com</p>
</div>
<div class="paragraph">
<p><code>selenoid/firefox:46.0</code></p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_standalone_binary"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_standalone_binary"></a>Standalone Binary</h5>
<div class="paragraph">
<p>If you wish to use a standalone binary instead of Docker container, then image field should contain command specification in square brackets:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">46.0</span><span class="delimiter">"</span></span>: {
    <span class="key"><span class="delimiter">"</span><span class="content">image</span><span class="delimiter">"</span></span>: [<span class="string"><span class="delimiter">"</span><span class="content">/usr/bin/mybinary</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">-arg1</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">foo</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">-arg2</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">bar</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">-arg3</span><span class="delimiter">"</span></span>],
    <span class="key"><span class="delimiter">"</span><span class="content">port</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">4444</span><span class="delimiter">"</span></span>
},</code></pre>
</div>
</div>
<div class="paragraph">
<p>Selenoid proxies connections to either Selenium server or standalone driver binary. Depending on operating system both can be packaged inside Docker container.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_other_optional_fields"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_other_optional_fields"></a>4.2.3. Other Optional Fields</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span class="string"><span class="delimiter">"</span><span class="content">46.0</span><span class="delimiter">"</span></span>: {
    <span class="comment">//...</span>
    <span class="key"><span class="delimiter">"</span><span class="content">port</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">tmpfs</span><span class="delimiter">"</span></span>: {<span class="key"><span class="delimiter">"</span><span class="content">/tmp</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">size=512m</span><span class="delimiter">"</span></span>, <span class="key"><span class="delimiter">"</span><span class="content">/var</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">size=128m</span><span class="delimiter">"</span></span>},
    <span class="key"><span class="delimiter">"</span><span class="content">path</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">volumes</span><span class="delimiter">"</span></span>: [<span class="string"><span class="delimiter">"</span><span class="content">/from:/to</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">/another:/one:ro</span><span class="delimiter">"</span></span>],
    <span class="key"><span class="delimiter">"</span><span class="content">env</span><span class="delimiter">"</span></span> : [<span class="string"><span class="delimiter">"</span><span class="content">TZ=Europe/Moscow</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">ONE_MORE_VARIABLE=itsValue</span><span class="delimiter">"</span></span>],
    <span class="key"><span class="delimiter">"</span><span class="content">hosts</span><span class="delimiter">"</span></span> : [<span class="string"><span class="delimiter">"</span><span class="content">one.example.com:192.168.0.1</span><span class="delimiter">"</span></span>, <span class="string"><span class="delimiter">"</span><span class="content">two.example.com:192.168.0.2</span><span class="delimiter">"</span></span>],
    <span class="key"><span class="delimiter">"</span><span class="content">labels</span><span class="delimiter">"</span></span> : {<span class="key"><span class="delimiter">"</span><span class="content">component</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">frontend</span><span class="delimiter">"</span></span>, <span class="key"><span class="delimiter">"</span><span class="content">project</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">my-project</span><span class="delimiter">"</span></span>},
    <span class="key"><span class="delimiter">"</span><span class="content">sysctl</span><span class="delimiter">"</span></span> : {<span class="key"><span class="delimiter">"</span><span class="content">net.ipv4.tcp_timestamps</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">2</span><span class="delimiter">"</span></span>, <span class="key"><span class="delimiter">"</span><span class="content">kern.maxprocperuid</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">1000</span><span class="delimiter">"</span></span>},
    <span class="key"><span class="delimiter">"</span><span class="content">shmSize</span><span class="delimiter">"</span></span> : <span class="integer">268435456</span>,
},</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>port</strong> (<em>only for containers</em>) - You should use <code>port</code> field to specify the real port inside container that container process (Selenium server, Selenoid or driver) will listen on.</p>
</li>
<li>
<p><strong>tmpfs</strong> (<em>optional</em>) - You may probably know that moving browser cache to in-memory filesystem (<a href="https://en.wikipedia.org/wiki/Tmpfs">Tmpfs</a>)
can dramatically improve its performance.
Selenoid can automatically attach one or more in-memory filesystems as volumes to Docker container being run.
To achieve this define one or more mount points and their respective sizes in optional <code>tmpfs</code> field.</p>
</li>
<li>
<p><strong>path</strong> (<em>optional</em>) - <code>path</code> field is needed to specify relative path to the URL where a new session is created (default is <code>/</code>).
Which value to specify in this field depends on container contents.
For example, most of Firefox containers have <a href="http://seleniumhq.org/">Selenium server</a> inside - thus you need to specify <code>/wd/hub</code>.
Chrome and Opera containers use web driver binary as entrypoint application which is accepting requests at <code>/</code>.
We recommend to use our <a href="https://github.com/aerokube/cm">configuration tool</a> to avoid errors with this field.</p>
</li>
<li>
<p><strong>volumes</strong> (<em>optional</em>) - This field allows to mount volumes from host machine to browser container. Should be specified as an array of Docker volume expressions: <code>/host/dir:/container/dir[:mode]</code>.</p>
</li>
<li>
<p><strong>env</strong> (<em>optional</em>) - This field allows to set any environment variables in running container. Specified as an array of <code>NAME=value</code> pairs.</p>
</li>
<li>
<p><strong>hosts</strong> (<em>optional</em>) - This field allows to add custom <code>/etc/hosts</code> entries to running container. Specified as an array of <code>hostname:ip</code> pairs.</p>
</li>
<li>
<p><strong>labels</strong> (<em>optional</em>) - This field allows to add custom labels to running container. Specified as an object of <code>"key": "value"</code> pairs.</p>
</li>
<li>
<p><strong>sysctl</strong> (<em>optional</em>) - This field allows to adjust kernel parameters of running container. Specified as an object of <code>"key": "value"</code> pairs.</p>
</li>
<li>
<p><strong>shmSize</strong> (<em>optional</em>) - Use it to override shared memory size for browser container.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_syncing_browser_images_from_existing_file"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_syncing_browser_images_from_existing_file"></a>4.2.4. Syncing Browser Images from Existing File</h4>
<div class="paragraph">
<p>In some usage scenarios you may want to store browsers configuration file under version control and initialize Selenoid from this file. For example this is true if you wish to have consistently reproducing infrastructure and using such tools as <a href="https://aws.amazon.com/cloudformation/">Amazon Cloud Formation</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Why this is not the part of Selenoid? Well, this is easy to implement, but under heavy load the result can be unpredictable.
For example after updating the file and reloading Selenoid it should pull new images. How long will you wait for new sessions then?
What to do if Docker Registry is inaccessible? So for maintenance reasons it is easier to delegate such simple logic to external script.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In order to pull browser images use on of the following options:</p>
</div>
<div class="paragraph">
<p><strong>Option 1: using CM</strong></p>
</div>
<div class="paragraph">
<p>Recent <a href="https://github.com/aerokube/cm">CM</a> tool versions are able to configure Selenoid from existing <code>browsers.json</code> file as follows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre># ./cm selenoid start --browsers-json /path/to/your/browsers.json</pre>
</div>
</div>
<div class="paragraph">
<p>This way is mainly useful when installing Selenoid from scratch or updating it i.e. as a part of CI build job.</p>
</div>
<div class="paragraph">
<p><strong>Option 2: using jq</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <strong><a href="https://stedolan.github.io/jq/download/">jq</a></strong> - a small tool to query data from JSON files.</p>
</li>
<li>
<p>Extract image names from JSON and automatically pull them:</p>
<div class="literalblock">
<div class="content">
<pre># cat /path/to/browsers.json | jq -r '..|.image?|strings' | xargs -I{} docker pull {}</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This way can be applied to a running cluster with tests with no downtime.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_logging_configuration_file"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_logging_configuration_file"></a>4.3. Logging Configuration File</h3>
<div class="paragraph">
<p>By default Docker container logs are saved to host machine hard drive. When using Selenoid for local development that’s ok.
But in big Selenium cluster you may want to send logs to some centralized storage like <a href="https://www.elastic.co/products/logstash">Logstash</a>
or <a href="https://www.graylog.org/">Graylog</a>.
Docker provides such functionality by so-called <a href="https://docs.docker.com/engine/admin/logging/overview/">logging drivers</a>.
An optional Selenoid logging configuration file allows to specify which logging driver to use globally for all started Docker
containers with browsers. Configuration file has the following format:</p>
</div>
<div class="listingblock">
<div class="title">config/container-logs.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">"</span><span class="content">Type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">&lt;driver-type&gt;</span><span class="delimiter">"</span></span>,   <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="key"><span class="delimiter">"</span><span class="content">Config</span><span class="delimiter">"</span></span> : {                <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="key"><span class="delimiter">"</span><span class="content">key1</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">value1</span><span class="delimiter">"</span></span>,
      <span class="key"><span class="delimiter">"</span><span class="content">key2</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">value2</span><span class="delimiter">"</span></span>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>is a supported Docker logging driver type like <code>syslog</code>, <code>journald</code> or <code>awslogs</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>Config</code> is a list of key-value pairs used to configure selected driver.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>For example these Docker logging parameters:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>--log-driver=syslog --log-opt syslog-address=tcp://192.168.0.42:123 --log-opt syslog-facility=daemon</code></pre>
</div>
</div>
<div class="paragraph">
<p>... are equivalent to the following Selenoid logging configuration:</p>
</div>
<div class="listingblock">
<div class="title">config/container-logs.json</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">"</span><span class="content">Type</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">syslog</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">Config</span><span class="delimiter">"</span></span> : {
      <span class="key"><span class="delimiter">"</span><span class="content">syslog-address</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">tcp://192.168.0.42:123</span><span class="delimiter">"</span></span>,
      <span class="key"><span class="delimiter">"</span><span class="content">syslog-facility</span><span class="delimiter">"</span></span> : <span class="string"><span class="delimiter">"</span><span class="content">daemon</span><span class="delimiter">"</span></span>
    }
}</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To specify custom logging configuration file - use <code>-log-conf</code> flag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./selenoid -log-conf /path/to/logging.json ...</pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_reloading_configuration"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_reloading_configuration"></a>4.4. Reloading Configuration</h3>
<div class="paragraph">
<p>To reload configuration without restart send SIGHUP:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code># kill -HUP &lt;pid&gt;
# docker kill -s HUP &lt;container-id-or-name&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Use only one of these commands.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>To check Selenoid instance health use <code>/ping</code>:</p>
</div>
<div class="listingblock">
<div class="title">Request</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl -s http://example.com:4444/ping</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Result</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">{
    <span class="key"><span class="delimiter">"</span><span class="content">uptime</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">2m46.854829503s</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">lastReloadTime</span><span class="delimiter">"</span></span>: <span class="string"><span class="delimiter">"</span><span class="content">2017-05-12 12:33:06.322038542 +0300 MSK</span><span class="delimiter">"</span></span>,
    <span class="key"><span class="delimiter">"</span><span class="content">numRequests</span><span class="delimiter">"</span></span>: <span class="integer">42</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>It returns <code>200 OK</code> when Selenoid operates normally. Additionally server uptime, last quota reload time and overall number of session requests from service startup are returned in JSON format.</p>
</div>
</div>
<div class="sect2">
<h3 id="_updating_browsers"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_updating_browsers"></a>4.5. Updating Browsers</h3>
<div class="paragraph">
<p>One of the most frequent Selenoid maintenance tasks is updating browser versions. To modify the list of available browsers you need to:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update browsers configuration file (aka <code>browsers.json</code>) by adding or deleting desired browser versions</p>
</li>
<li>
<p>When adding new browsers in containers - pull respective container images, e.g.:</p>
<div class="literalblock">
<div class="content">
<pre>$ docker pull selenoid/chrome:62.0</pre>
</div>
</div>
</li>
<li>
<p>Restart Selenoid or hot reload its configuration.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_the_short_way"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_the_short_way"></a>4.5.1. The Short Way</h4>
<div class="paragraph">
<p>This approach is mainly convenient for <strong>personal usage</strong> because Selenoid is restarted i.e. any running browser sessions are interrupted. Just type one <a href="http://aerokube.com/cm/latest/">Configuration Manager</a> command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./cm selenoid update</pre>
</div>
</div>
<div class="paragraph">
<p>This command will download latest Selenoid release, browser images, generate new <code>browsers.json</code> and restart Selenoid. You may want to add <code>--vnc</code> flag to download images with VNC support:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./cm selenoid update --vnc</pre>
</div>
</div>
<div class="paragraph">
<p>Another useful flag is total number of last browser versions to download (default is <code>2</code>):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./cm selenoid update --last-versions 5</pre>
</div>
</div>
<div class="paragraph">
<p>If you wish to pull new images and regenerate configuration without restarting Selenoid then type:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$ ./cm selenoid configure --vnc --last-versions 5</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_a_bit_longer_way"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_a_bit_longer_way"></a>4.5.2. A Bit Longer Way</h4>
<div class="paragraph">
<p>We recommend to use this approach on <strong>production clusters</strong> because Selenoid configuration is reloaded without restart.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit <code>browsers.json</code> file and pull new browsers containers manually or using <a href="https://aerokube.com/selenoid/latest/#_syncing_browser_images_from_existing_file">Syncing Browser Images from Existing File</a>. Alternatively configure Selenoid without restarting it like shown in previous section.</p>
</li>
<li>
<p>Reload Selenoid configuration (see <a href="https://aerokube.com/selenoid/latest/#_reloading_configuration">Reloading Configuration</a> for more details):</p>
<div class="literalblock">
<div class="content">
<pre>$ docker kill -s HUP selenoid</pre>
</div>
</div>
</li>
<li>
<p>To verify that configuration was reloaded you can check Selenoid health:</p>
<div class="literalblock">
<div class="content">
<pre>$ curl -s http://example.com:4444/ping
{"uptime":"&lt;some-value&gt;","lastReloadTime":"2017-05-12 12:33:06.322038542 +0300 MSK","numRequests":&lt;some-number&gt;}</pre>
</div>
</div>
<div class="paragraph">
<p>Here <code>lastReloadTime</code> field shows when browsers configuration was reloaded for the last time.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_timezone"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_setting_timezone"></a>4.6. Setting Timezone</h3>
<div class="paragraph">
<p>When used in Docker container Selenoid will have timezone set to <strong>UTC</strong>.
To set custom timezone pass <code>TZ</code> environment variable to Docker:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ docker run -d --name selenoid                     \
    -p 4444:4444                                    \
    -e TZ=Europe/Moscow                             \
    -v /etc/selenoid:/etc/selenoid:ro               \
    -v /var/run/docker.sock:/var/run/docker.sock    \
    aerokube/selenoid:latest-release</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_selenoid_with_docker_compose"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_selenoid_with_docker_compose"></a>4.7. Selenoid with Docker Compose</h3>
<div class="paragraph">
<p>In example <a href="https://docs.docker.com/compose/">Docker Compose</a> configurations below we assume that:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You created a directory <code>/path/to/config</code> with <a href="https://aerokube.com/selenoid/latest/#_browsers_configuration_file">Browsers Configuration File</a> inside named <code>browsers.json</code>.</p>
<div class="literalblock">
<div class="content">
<pre>$ mkdir -p /path/to/config</pre>
</div>
</div>
</li>
<li>
<p>You created empty configuration directories for logs and videos:</p>
<div class="literalblock">
<div class="content">
<pre>$ mkdir -p /path/to/config/logs
$ mkdir -p /path/to/config/video</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_option_1_running_selenoid_in_default_docker_network"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_option_1_running_selenoid_in_default_docker_network"></a>4.7.1. Option 1. Running Selenoid in default Docker network</h4>
<div class="paragraph">
<p>In that case <strong>bridge</strong> network mode should be used for all services:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">version</span>: <span class="string"><span class="content">'3'</span></span>
<span class="key">services</span>:
  <span class="key">selenoid</span>:
    <span class="key">network_mode</span>: <span class="string"><span class="content">bridge</span></span>
    <span class="key">image</span>: <span class="string"><span class="content">aerokube/selenoid:latest-release</span></span>
    <span class="key">volumes</span>:
      - <span class="string"><span class="delimiter">"</span><span class="content">/path/to/config:/etc/selenoid</span><span class="delimiter">"</span></span>
      - <span class="string"><span class="delimiter">"</span><span class="content">/var/run/docker.sock:/var/run/docker.sock</span><span class="delimiter">"</span></span>
      - <span class="string"><span class="delimiter">"</span><span class="content">/path/to/config/video:/opt/selenoid/video</span><span class="delimiter">"</span></span>
      - <span class="string"><span class="delimiter">"</span><span class="content">/path/to/config/logs:/opt/selenoid/logs</span><span class="delimiter">"</span></span>
    <span class="key">environment</span>:
      - <span class="string"><span class="content">OVERRIDE_VIDEO_OUTPUT_DIR=/path/to/config/video</span></span>
    <span class="key">command</span>: <span class="string"><span class="content">["-conf", "/etc/selenoid/browsers.json", "-video-output-dir", "/opt/selenoid/video", "-log-output-dir", "/opt/selenoid/logs"]</span></span>
    <span class="key">ports</span>:
      - <span class="string"><span class="delimiter">"</span><span class="content">4444:4444</span><span class="delimiter">"</span></span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_option_2_running_selenoid_in_custom_docker_network"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_option_2_running_selenoid_in_custom_docker_network"></a>4.7.2. Option 2. Running Selenoid in custom Docker network</h4>
<div class="paragraph">
<p>In that case you have to add <code>-container-network</code> flag to Selenoid as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create custom Docker network:</p>
<div class="literalblock">
<div class="content">
<pre>$ docker network create selenoid</pre>
</div>
</div>
</li>
<li>
<p>Start Selenoid:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">version</span>: <span class="string"><span class="content">'3'</span></span>
<span class="key">networks</span>:
  <span class="key">selenoid</span>:
    <span class="key">external</span>:
      <span class="key">name</span>: <span class="string"><span class="content">selenoid</span></span> <span class="comment"># This assumes network is already created</span>
<span class="key">services</span>:
  <span class="key">selenoid</span>:
    <span class="key">networks</span>:
      <span class="key">selenoid</span>: <span class="string"><span class="content">null</span></span>
    <span class="key">image</span>: <span class="string"><span class="content">aerokube/selenoid:latest-release</span></span>
    <span class="key">volumes</span>:
      - <span class="string"><span class="delimiter">"</span><span class="content">/path/to/config:/etc/selenoid</span><span class="delimiter">"</span></span>
      - <span class="string"><span class="delimiter">"</span><span class="content">/var/run/docker.sock:/var/run/docker.sock</span><span class="delimiter">"</span></span>
      - <span class="string"><span class="delimiter">"</span><span class="content">/path/to/config/video:/opt/selenoid/video</span><span class="delimiter">"</span></span>
      - <span class="string"><span class="delimiter">"</span><span class="content">/path/to/config/logs:/opt/selenoid/logs</span><span class="delimiter">"</span></span>
    <span class="key">environment</span>:
      - <span class="string"><span class="content">OVERRIDE_VIDEO_OUTPUT_DIR=/path/to/config/video</span></span>
    <span class="key">command</span>: <span class="string"><span class="content">["-conf", "/etc/selenoid/browsers.json", "-video-output-dir", "/opt/selenoid/video", "-log-output-dir", "/opt/selenoid/logs", "-container-network", "selenoid"]</span></span>
    <span class="key">ports</span>:
      - <span class="string"><span class="delimiter">"</span><span class="content">4444:4444</span><span class="delimiter">"</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_log_files"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_log_files"></a>4.8. Log Files</h3>
<div class="paragraph">
<p>A typical log file looks like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>2017/11/01 19:12:38 [-] [NEW_REQUEST]
2017/11/01 19:12:38 [-] [NEW_REQUEST_ACCEPTED]
2017/11/01 19:12:38 [41301] [LOCATING_SERVICE] [firefox-45.0]
2017/11/01 19:12:38 [41301] [USING_DOCKER] [firefox-45.0]
2017/11/01 19:12:38 [41301] [CREATING_CONTAINER] [selenoid/firefox:45.0]
2017/11/01 19:12:38 [41301] [STARTING_CONTAINER] [selenoid/firefox:45.0] [19760edf330a87531eb2109cfbf1bd4b14c739afa08fe133eb1b9813b2ac6c31]
2017/11/01 19:12:39 [41301] [CONTAINER_STARTED] [selenoid/firefox:45.0] [19760edf330a87531eb2109cfbf1bd4b14c739afa08fe133eb1b9813b2ac6c31] [896.680954ms]
2017/11/01 19:12:40 [41301] [SERVICE_STARTED] [selenoid/firefox:45.0] [19760edf330a87531eb2109cfbf1bd4b14c739afa08fe133eb1b9813b2ac6c31] [605.184606ms]
2017/11/01 19:12:40 [41301] [PROXY_TO] [selenoid/firefox:45.0] [19760edf330a87531eb2109cfbf1bd4b14c739afa08fe133eb1b9813b2ac6c31] [http://172.17.0.3:4444/wd/hub]
2017/11/01 19:12:40 [41301] [SESSION_ATTEMPTED] [test-quota] [http://172.17.0.3:4444/wd/hub] [1]
2017/11/01 19:12:42 [41301] [SESSION_CREATED] [test-quota] [345bb886-7026-46d7-82d4-4788c0460110] [http://172.17.0.3:4444/wd/hub] [1] [4.155712239s]
....
2017/11/01 19:14:30 [SESSION_DELETED] [345bb886-7026-46d7-82d4-4788c0460110]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Every line contains:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Log entry contents</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Field</th>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2017/11/01 19:12:42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Request counter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[41301]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">So far as session ID is unknown when doing attempts this counter is used to find all session attempts for each new session request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[SESSION_ATTEMPTED]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See table below for complete list of statuses.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[firefox-45.0]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name and version. Only present for new session requests.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attempt number</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For SESSION_ATTEMPTED entries means current attempt number. For SESSION_CREATED entries means total number of attempts to create this session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Session ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[345bb886-7026-46d7-82d4-4788c0460110]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This value is unique for every browser session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Session start time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[4.15s]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The following statuses are available:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Log entry statuses</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Status</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALLOCATED_PORT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Successfully allocated port for driver process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ALLOCATING_PORT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trying to allocate random free port for driver process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BAD_JSON_FORMAT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User request does not contain valid Selenium data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BAD_SCREEN_RESOLUTION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested to set wrong custom screen resolution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BAD_TIMEZONE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested to set wrong custom time zone inside container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BAD_VIDEO_SCREEN_SIZE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested to capture video with wrong screen size</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CLIENT_DISCONNECTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User disconnected and session was interrupted</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTAINER_LOGS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested container logs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTAINER_LOGS_ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested container logs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTAINER_LOGS_DISCONNECTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User logs client disconnected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTAINER_REMOVED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker container was successfully removed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONTAINER_STARTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker container has successfully started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FAILED_TO_COPY_LOGS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failed to copy logs from Docker container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CREATING_CONTAINER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker container with browser is creating</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEFAULT_VERSION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selenoid is using default browser version</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETED_LOG_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Log file was deleted by user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DELETED_VIDEO_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Video file was deleted by user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEVTOOLS_CLIENT_DISCONNECTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User devtools client disconnected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEVTOOLS_DISABLED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An attempt to access browser devtools when it is not enabled with capability</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEVTOOLS_ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error occurred when trying to send devtools traffic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DEVTOOLS_SESSION_CLOSED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sending devtools traffic was stopped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOWNLOADING_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested to download file from browser container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENVIRONMENT_NOT_AVAILABLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Browser with desired name and version does not exist</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FAILED_TO_REMOVE_CONTAINER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failed to remove Docker container</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FAILED_TO_TERMINATE_PROCESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error occurred while terminating driver process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server is starting</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LOG_LISTING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Received a request to list all log files</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LOG_ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error occurred when post-processing session logs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">METADATA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata processing messages</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NEW_REQUEST</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New user request arrived and was placed to queue</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NEW_REQUEST_ACCEPTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Started processing new user request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PROCESS_STARTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Driver process successfully started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PROXY_TO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starting to proxy requests to running container or driver process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">REMOVING_CONTAINER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker container with browser or video recorder is being removed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SERVICE_STARTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Successfully started Docker container or driver binary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SERVICE_STARTUP_FAILED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Failed to start Docker container or driver binary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SESSION_ATTEMPTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Started Docker container or driver binary and trying to create a new session with it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SESSION_ATTEMPT_TIMED_OUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An attempt to create a new session timed out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SESSION_CREATED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A new session was created and returned to user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SESSION_TIMED_OUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Existing session was terminated by timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SESSION_DELETED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Existing session was deleted by user request</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SESSION_FAILED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An attempt to create a new session failed - user receives an error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SESSION_NOT_FOUND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Requested VNC or logs for unknown session.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STARTING_CONTAINER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Docker container with browser was created and is starting</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">STARTING_PROCESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starting driver process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHUTTING_DOWN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server is stopping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TERMINATING_PROCESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stopping driver process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TERMINATED_PROCESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Driver process was successfully stopped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UPLOADING_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An issue occurred while uploading file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UPLOADED_FILE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File successfully uploaded</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VIDEO_LISTING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Received a request to list all videos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VIDEO_ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error occurred when post-processing recorded video</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VNC_CLIENT_DISCONNECTED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User VNC client disconnected</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VNC_ENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested VNC traffic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VNC_ERROR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error occurred when trying to send VNC traffic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VNC_SESSION_CLOSED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sending VNC traffic was stopped</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VNC_NOT_ENABLED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User requested VNC traffic but did not specify <code>enableVNC</code> capability</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_selenoid_cli_flags"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_selenoid_cli_flags"></a>4.9. Selenoid CLI Flags</h3>
<div class="paragraph">
<p>The following flags are supported by <code>selenoid</code> command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-capture-driver-logs
    Whether to add driver process logs to Selenoid output
-conf string
    Browsers configuration file (default "config/browsers.json")
-container-network string
    Network to be used for containers (default "default")
-cpu value
    Containers cpu limit as float e.g. 0.2 or 1.0
-disable-docker
    Disable docker support
-disable-privileged
    Whether to disable privileged container mode
-disable-queue
    Disable wait queue
-enable-file-upload
    File upload support
-graceful-period duration
    graceful shutdown period in time.Duration format, e.g. 300s or 500ms (default 5m0s)
-limit int
    Simultaneous container runs (default 5)
-listen string
    Network address to accept connections (default ":4444")
-log-conf string
    Container logging configuration file
-log-output-dir string
    Directory to save session log to
-max-timeout duration
    Maximum valid session idle timeout in time.Duration format (default 1h0m0s)
-mem value
    Containers memory limit e.g. 128m or 1g
-retry-count int
    New session attempts retry count (default 1)
-save-all-logs
    Whether to save all logs without considering capabilities
-service-startup-timeout duration
    Service startup timeout in time.Duration format (default 30s)
-session-attempt-timeout duration
    New session attempt timeout in time.Duration format (default 30s)
-session-delete-timeout duration
    Session delete timeout in time.Duration format (default 30s)
-timeout duration
    Session idle timeout in time.Duration format (default 1m0s)
-version
    Show version and exit
-video-output-dir string
    Directory to save recorded video to (default "video")
-video-recorder-image string
    Image to use as video recorder (default "selenoid/video-recorder:latest-release")</pre>
</div>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>$ ./selenoid -conf ~/.aerokube/selenoid/browsers.json -limit 10</code></pre>
</div>
</div>
<div class="paragraph">
<p>When using Selenoid inside Docker container these flags are passed like the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash"># docker run -d --name selenoid                     \
    -p 4444:4444                                    \
    -v ~/.aerokube/selenoid/:/etc/selenoid/:ro      \
    -v /var/run/docker.sock:/var/run/docker.sock    \
    aerokube/selenoid:latest-release                \
    -conf /etc/selenoid/browsers.json -limit 10 -video-output-dir /opt/selenoid/video/</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="_s3_cli_flags"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_s3_cli_flags"></a>4.9.1. S3 CLI Flags</h4>
<div class="paragraph">
<p>The following flags are supported by <code>selenoid</code> command when compiled with S3 support:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-s3-access-key string
    S3 access key
-s3-bucket-name string
    S3 bucket name
-s3-endpoint string
    S3 endpoint URL
-s3-exclude-files string
    Pattern used to match and exclude files
-s3-force-path-style
    Force path-style addressing for file upload
-s3-include-files string
    Pattern used to match and include files
-s3-keep-files
    Do not remove uploaded files
-s3-key-pattern string
    S3 bucket name (default "$fileName")
-s3-reduced-redundancy
    Use reduced redundancy storage class
-s3-region string
    S3 region
-s3-secret-key string
    S3 secret key</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contributing_development"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_contributing_development"></a>5. Contributing &amp; Development</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To build Selenoid:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <a href="https://golang.org/doc/install">Golang</a> 1.12 and above.</p>
</li>
<li>
<p>Setup <code>$GOPATH</code> <a href="https://github.com/golang/go/wiki/GOPATH">properly</a></p>
</li>
<li>
<p>Clone Selenoid source:</p>
<div class="literalblock">
<div class="content">
<pre>$ git clone https://github.com/aerokube/selenoid.git</pre>
</div>
</div>
</li>
<li>
<p>Go to project directory:</p>
<div class="literalblock">
<div class="content">
<pre>$ cd selenoid</pre>
</div>
</div>
</li>
<li>
<p>Build source:</p>
<div class="literalblock">
<div class="content">
<pre>$ go build</pre>
</div>
</div>
<div class="paragraph">
<p>This will also fetch build dependencies.</p>
</div>
</li>
<li>
<p>Run Selenoid:</p>
<div class="literalblock">
<div class="content">
<pre>$ ./selenoid --help</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock tip">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To build Docker container type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build
$ docker build -t selenoid:latest .</code></pre>
</div>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="sect2">
<h3 id="_documentation"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_documentation"></a>5.1. Documentation</h3>
<div class="paragraph">
<p>Locally can be generated with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ docker run --rm -v `pwd`/docs/:/documents/      \
    asciidoctor/docker-asciidoctor                \
    asciidoctor -D /documents/output/ index.adoc</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_browser_image_information"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_browser_image_information"></a>Appendix A: Browser Image information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Moved to a <a href="https://aerokube.com/images/latest/">dedicated page</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cloud_platforms"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_cloud_platforms"></a>Appendix B: Cloud Platforms</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Selenoid ready-to-use images are present in popular cloud platforms and can be run in a few clicks. This section contains step-by-step instructions on launching Selenoid in these platforms.</p>
</div>
<div class="sect2">
<h3 id="_google_cloud"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_google_cloud"></a>B.1. Google Cloud</h3>
<div class="paragraph">
<p>Selenoid can be run from <a href="https://console.cloud.google.com/marketplace">Google Cloud Marketplace</a> as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <a href="https://console.cloud.google.com/marketplace/details/aerokube/selenoid">Selenoid page</a> and click the <strong>Launch on Compute Engine</strong> button:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/google-cloud-marketplace-page.png" alt="google-cloud-marketplace"></span></p>
</div>
</li>
<li>
<p>Type virtual machine name, size and click the <strong>Deploy</strong> button:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/google-cloud-vm-settings.png" alt="google-cloud-vm-settings"></span></p>
</div>
</li>
<li>
<p>Wait for virtual machine to start. Selenoid user interface is available at <code><a href="http://%3Cvm-ip-address%3E:8080/" class="bare">http://&lt;vm-ip-address&gt;:8080/</a></code>. Selenium tests should be run against <code><a href="http://%3Cvm-ip-address%3E:4444/wd/hub" class="bare">http://&lt;vm-ip-address&gt;:4444/wd/hub</a></code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_digitalocean"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_digitalocean"></a>B.2. DigitalOcean</h3>
<div class="paragraph">
<p>Selenoid can be run from <a href="https://marketplace.digitalocean.com/">DigitalOcean Marketplace</a> as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <a href="https://marketplace.digitalocean.com/apps/selenoid">Selenoid page</a>:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/digitalocean-marketplace-page.png" alt="digitalocean-marketplace"></span></p>
</div>
</li>
<li>
<p>Click on <strong>Create Selenoid Droplet</strong> button.</p>
</li>
<li>
<p>Choose a plan, i.e. virtual machine size:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/digitalocean-vm-flavor.png" alt="digitalocean-vm-flavor"></span></p>
</div>
</li>
<li>
<p>Choose a data center region near you:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/digitalocean-vm-datacenter.png" alt="digitalocean-vm-datacenter"></span></p>
</div>
</li>
<li>
<p>Select or add an SSH key for your droplet.</p>
</li>
<li>
<p>Select a name for your virtual machine:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/digitalocean-vm-name.png" alt="digitalocean-vm-name"></span></p>
</div>
</li>
<li>
<p>Click on <strong>Create Droplet</strong> button.</p>
</li>
<li>
<p>Wait for virtual machine to start. Selenoid user interface is available at <code><a href="http://%3Cvm-ip-address%3E:8080/" class="bare">http://&lt;vm-ip-address&gt;:8080/</a></code>. Selenium tests should be run against <code><a href="http://%3Cvm-ip-address%3E:4444/wd/hub" class="bare">http://&lt;vm-ip-address&gt;:4444/wd/hub</a></code>.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_yandex_cloud"><a class="anchor" href="https://aerokube.com/selenoid/latest/#_yandex_cloud"></a>B.3. Yandex Cloud</h3>
<div class="paragraph">
<p>Selenoid can be run from <a href="https://cloud.yandex.com/marketplace">Yandex Cloud Marketplace</a> as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <a href="https://cloud.yandex.com/marketplace/products/f2e1m50sdg87g8eh716h">Selenoid page</a> and click the <strong>Launch</strong> button:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/yandex-cloud-marketplace-page.png" alt="yandex-cloud-marketplace"></span></p>
</div>
</li>
<li>
<p>Type virtual machine name, select disk size, available computing resources and click the <strong>Create VM</strong> button:</p>
<div class="paragraph">
<p><span class="image"><img src="./Selenoid - A cross browser Selenium solution for Docker_files/yandex-cloud-vm-settings.png" alt="yandex-cloud-vm-settings"></span></p>
</div>
</li>
<li>
<p>Wait for virtual machine to start. Selenoid user interface is available at <code><a href="http://%3Cvm-ip-address%3E:8080/" class="bare">http://&lt;vm-ip-address&gt;:8080/</a></code>. Selenium tests should be run against <code><a href="http://%3Cvm-ip-address%3E:4444/wd/hub" class="bare">http://&lt;vm-ip-address&gt;:4444/wd/hub</a></code>.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version latest<br>
Last updated 2020-12-09 12:00:50 UTC
</div>
</div>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid currentColor;opacity:.35;padding:0 .5em 0 0}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script type="text/javascript" async="" src="./Selenoid - A cross browser Selenium solution for Docker_files/analytics.js"></script><script async="" src="./Selenoid - A cross browser Selenium solution for Docker_files/tag.js"></script><script async="" src="./Selenoid - A cross browser Selenium solution for Docker_files/js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-23854888-2');
</script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(43539754, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true,
        webvisor:true,
        trackHash:true
    });
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/43539754" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

</body></html>